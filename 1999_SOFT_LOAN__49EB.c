// 1999_SOFT_LOAN__49EB.c
// Generated by decompiling 1999_SOFT_LOAN_.exe
// using Reko decompiler version 0.11.4.0.

#include "1999_SOFT_LOAN_.h"

// 3CEE:D021: define fn3CEE_D021
// Called from:
//      fn3CEE_1472
define fn3CEE_D021
{
	sp = fp;
	Top = 0;
	v8 = (byte) ((word80) (ds->*((word16) di + ((word16) bx + 0x0499))) + cl);
	ds->*((word16) di + ((word16) bx + 0x0499)) = v8;
	v11 = (byte) ((word80) (ds->*((word16) di + ((word16) bx + 0x0A))) + bl);
	ds->*((word16) di + ((word16) bx + 0x0A)) = v11;
	SCZO = cond(v11);
	dx_ax = (int32) ax;
	ax = (bool) C + ((word16) ax + 0x00009900);
	si = (word16) si + 1;
	cl += cl;
	al.u1 = al.u1;
	FPUF.u0 = cond(*Top - ds->*di);
	Top = (real64 *) ((char *) Top + 1);
	v22 = (byte) al.u1 + (ss->*bp).bFFFFFFD8;
	(ss->*bp).bFFFFFFD8 = v22;
	SCZO = cond(v22);
	(ss->*bp).t0078.u7 = (union Eq_234980 *) bx;
	v24 = Mem0[ss:bp - 40 + si:word16] >>u cl;
	Mem0[ss:bp - 40 + si:word16] = v24;
	SCZO = cond(v24);
	ds->*((word16) bx + 32257) = dx;
	v26 = (ss->*bp).b0077 + bl;
	(ss->*bp).b0077 = v26;
	v27 = ds->*((word16) bx + 32257);
	ds->*((word16) bx + 32257) = dl;
	dl = v27;
	v29 = (byte) al.u1 + (ss->*bp).b7A9E;
	(ss->*bp).b7A9E = v29;
	v30 = Mem0[ss:bp + si:byte] + cl;
	Mem0[ss:bp + si:byte] = v30;
	dx_ax = (int32) ax;
	al += Mem0[ds:bx + si:byte];
	SCZO = ah;
	Z = __arpl((ss->*bp).tD886.u7, bx, &(ss->*bp).tD886.u7);
	ds->*((word16) bx + 32257) = dx;
	v34 = (ss->*bp).b0077 + bl;
	(ss->*bp).b0077 = v34;
	v35 = ds->*((word16) bx + 32257);
	ds->*((word16) bx + 32257) = dl;
	dl = v35;
	v36 = (byte) al.u1 + (ss->*bp).b7A9E;
	(ss->*bp).b7A9E = v36;
	cl += cl;
	al += Mem0[ds:bx + si:byte];
	*Top = (real64) (ds->*si) / *Top;
	si = (word16) si + 1;
	ST[Top + 0x00:real64] = CONVERT(Mem0[ss:bp + di:real32], real32, real64) / ST[Top + 0x00:real64];
	ds->*((word16) bx + 23553) = dx;
	v37 = (ss->*bp).b0077 + bl;
	(ss->*bp).b0077 = v37;
	v38 = ds->*((word16) bx + 23553);
	ds->*((word16) bx + 23553) = dl;
	dl = v38;
	v39 = (byte) al.u1 + (ss->*bp).b7A9E;
	(ss->*bp).b7A9E = v39;
	v40 = Mem0[ss:bp + si:byte] + cl;
	Mem0[ss:bp + si:byte] = v40;
	dx_ax = (int32) ax;
	al += Mem0[ds:bx + si:byte];
	SCZO = ah;
	Z = __arpl((ss->*bp).tD886.u7, bx, &(ss->*bp).tD886.u7);
	ds->*((word16) bx + 23553) = dx;
	v42 = (ss->*bp).b0077 + bl;
	(ss->*bp).b0077 = v42;
	v43 = ds->*((word16) bx + 23553);
	ds->*((word16) bx + 23553) = dl;
	dl = v43;
	v44 = (byte) al.u1 + (ss->*bp).b7A9E;
	(ss->*bp).b7A9E = v44;
	cl += cl;
	al += Mem0[ds:bx + si:byte];
	*Top = (real64) (ds->*si) / *Top;
	si = (word16) si + 1;
	*Top = (real64) (ss->*bp).a0000[0].u2 / *Top;
	(ss->*bp).t007A.u7 = (union Eq_234980 *) bx;
	SCZO = ah;
	SCZO = ah;
	SCZO = ah;
	__out<word16>(dx, ax);
	si = (word16) si + 2;
	al = ds->*((word16) bx + (uint16) al);
	*Top = (real64) (ds->*bx) / *Top;
	(ss->*bp).t007A.u7 = (union Eq_234980 *) bx;
	SCZO = ah;
	SCZO = ah;
	SCZO = ah;
	__out<word16>(dx, ax);
	si = (word16) si + 2;
	al = ds->*((word16) bx + (uint16) al);
	*Top += (real64) (ds->*((word16) si + ((word16) bx + 0x00008900)));
	v46 = di;
	di = ax;
	ax = v46;
	v48 = ds->*((word16) bx + 47) - dh - C;
	ds->*((word16) bx + 47) = v48;
	__out<byte>(dx, al);
	si = (word16) si + 1;
	v49 = Mem0[ds:bx + si:byte] & ah;
	Mem0[ds:bx + si:byte] = v49;
	SZ = cond(Mem0[ds:bx + si:byte]);
	v52 = Mem0[ds:bx + si:byte] & ah;
	Mem0[ds:bx + si:byte] = v52;
	SZ = cond(Mem0[ds:bx + si:byte]);
	v53 = Mem0[ds:bx + si:byte] & ah;
	Mem0[ds:bx + si:byte] = v53;
	SZ = cond(Mem0[ds:bx + si:byte]);
	v54 = Mem0[ds:bx + si:byte] & ah;
	Mem0[ds:bx + si:byte] = v54;
	SZ = cond(Mem0[ds:bx + si:byte]);
	v55 = Mem0[ds:bx + si:byte] & ah;
	Mem0[ds:bx + si:byte] = v55;
	SZ = cond(Mem0[ds:bx + si:byte]);
	v56 = Mem0[ds:bx + si:byte] & ah;
	Mem0[ds:bx + si:byte] = v56;
	SZ = cond(Mem0[ds:bx + si:byte]);
	v57 = Mem0[ds:bx + si:byte] & ah;
	Mem0[ds:bx + si:byte] = v57;
	SZ = cond(Mem0[ds:bx + si:byte]);
	v58 = Mem0[ds:bx + si:byte] & ah;
	Mem0[ds:bx + si:byte] = v58;
	SZ = cond(Mem0[ds:bx + si:byte]);
	v59 = Mem0[ds:bx + si:byte] & ah;
	Mem0[ds:bx + si:byte] = v59;
	SZ = cond(Mem0[ds:bx + si:byte]);
	v60 = Mem0[ds:bx + si:byte] & ah;
	Mem0[ds:bx + si:byte] = v60;
	SZ = cond(Mem0[ds:bx + si:byte]);
	v61 = Mem0[ds:bx + si:byte] & al;
	Mem0[ds:bx + si:byte] = v61;
	SZ = cond(Mem0[ds:bx + si:byte]);
	v62 = (word80) (ds->*((word16) di + ((word16) bx + 0x0A))) + bl;
	ds->*((word16) di + ((word16) bx + 0x0A)) = v62;
	SCZO = cond(v62);
	dx_ax = (int32) ax;
	ax = (bool) C + ((word16) ax + 0x00009900);
	si = (word16) si + 1;
	v63 = ds->b000B + dh;
	ds->b000B = v63;
	SCZO = cond(v63);
	v64 = di;
	di = ax;
	ax = v64;
	v66 = (ss->*bp).b002F - ch - C;
	(ss->*bp).b002F = v66;
	SCZO = cond(v66);
	if (Test(UGT,CZ))
	{
		dx_ax = (int32) ax;
		al += Mem0[ds:bx + si:byte];
		SCZO = cond(al);
		fn3CEE_D129();
	}
	else
	{
		v67 = Mem0[ds:bx + si:byte] & ah;
		Mem0[ds:bx + si:byte] = v67;
		SZ = cond(Mem0[ds:bx + si:byte]);
		v68 = Mem0[ds:bx + si:byte] & ah;
		Mem0[ds:bx + si:byte] = v68;
		SZ = cond(Mem0[ds:bx + si:byte]);
		v69 = Mem0[ds:bx + si:byte] & ah;
		Mem0[ds:bx + si:byte] = v69;
		SZ = cond(Mem0[ds:bx + si:byte]);
		O = false;
		C.u0 = false;
		fn3CEE_D10F();
	}
}

// 3CEE:D10F: define fn3CEE_D10F
// Called from:
//      fn3CEE_8634
//      fn3CEE_D021
define fn3CEE_D10F
{
	sp = fp;
	Top = 0;
	v8 = bx[si /16 80] & ah;
	bx[si /16 80] = (struct Eq_172696) v8;
	SZ = cond(bx[si /16 80]);
	v12 = bx[si /16 80] & ah;
	bx[si /16 80] = (struct Eq_172696) v12;
	SZ = cond(bx[si /16 80]);
	v13 = bx[si /16 80] & ah;
	bx[si /16 80] = (struct Eq_172696) v13;
	SZ = cond(bx[si /16 80]);
	v14 = bx[si /16 80] & ah;
	bx[si /16 80] = (struct Eq_172696) v14;
	SZ = cond(bx[si /16 80]);
	v15 = bx[si /16 80] & ah;
	bx[si /16 80] = (struct Eq_172696) v15;
	SZ = cond(bx[si /16 80]);
	v16 = bx[si /16 80] & ah;
	bx[si /16 80] = (struct Eq_172696) v16;
	SZ = cond(bx[si /16 80]);
	v17 = bx[si /16 80] & ah;
	bx[si /16 80] = (struct Eq_172696) v17;
	SZ = cond(bx[si /16 80]);
	v19 = bx[si /16 80] & al;
	bx[si /16 80] = (struct Eq_172696) v19;
	SZ = cond(bx[si /16 80]);
	dx = 1177;
	v23 = (&(ds->*(ds->*bx).a0050))[di] + bl;
	(&(ds->*(ds->*bx).a0050))[di] = v23;
	SCZO = ah;
	if (Test(GT,SZO))
		fn3CEE_D129();
	else
		fn3CEE_D129();
}

// 3CEE:D129: define fn3CEE_D129
// Called from:
//      fn3CEE_D021
//      fn3CEE_D10F
define fn3CEE_D129
{
	sp = fp;
	Top = 0;
	Z = __arpl(Mem0[ds:bx + 0x02 + di:word16], bx, &Mem0[ds:bx + 0x02 + di:word16]);
	v9 = (byte) (ds->*((word16) bx - 0x0067));
	ds->*((word16) bx - 0x0067) = ch;
	ch = v9;
	al += Mem0[ds:bx + si:byte];
	cx -= ss->*((word16) di + ((word16) bp + 407));
	v17 = Mem0[ds:bx + si:byte] & al;
	Mem0[ds:bx + si:byte] = v17;
	SZ = cond(Mem0[ds:bx + si:byte]);
	SCZO = ah;
	v23 = (byte) (ds->*((word16) bx + 0x00002001));
	ds->*((word16) bx + 0x00002001) = dl;
	dl = v23;
	v25 = (byte) ((word80) (ss->*((word16) bp + 45439)) + al);
	ss->*((word16) bp + 45439) = v25;
	SCZO = cond(v25);
	dx_ax = (int32) ax;
	ax = (bool) C + ((word16) ax + 0x00009900);
	SCZO = cond(ax);
	al = al - 0x00 - C;
	SCZO = cond(al);
	dx = (word16) (ds->*((word16) bx + 8216));
	v30 = Mem0[ds:bx + di:byte] - bl - C;
	Mem0[ds:bx + di:byte] = v30;
	v31 = ds->*di & ch;
	ds->*di = v31;
	SZ = cond(ds->*di);
	v33 = ds->*((word16) di + 111) & cl;
	ds->*((word16) di + 111) = v33;
	SZ = cond(ds->*((word16) di + 111));
	O = false;
	C.u0 = false;
	if (Test(UGT,CZ))
	{
		v35 = Mem0[ds:bx + si:byte] & ah;
		Mem0[ds:bx + si:byte] = v35;
		SZ = cond(Mem0[ds:bx + si:byte]);
		v36 = ds->*((word16) di + 83) & al;
		ds->*((word16) di + 83) = v36;
		SZ = cond(ds->*((word16) di + 83));
		bx = (word16) bx + 1;
		v37 = ds->*di & ch;
		ds->*di = v37;
		SZ = cond(ds->*di);
		v38 = ds->*((word16) di + 0x0078) & al;
		ds->*((word16) di + 0x0078) = v38;
		SZ = cond(ds->*((word16) di + 0x0078));
		si = ds->*((word16) si + 32) *s 0x7F00;
		SCZO = cond(si);
		cl = 151;
		v39 = ss->*((word16) bp + 47) - ch - C;
		ss->*((word16) bp + 47) = v39;
		SCZO = cond(v39);
		if (Test(ULE,CZ))
		{
			v40 = Mem0[ds:bx + si:byte] & ah;
			Mem0[ds:bx + si:byte] = v40;
			SZ = cond(Mem0[ds:bx + si:byte]);
			v41 = Mem0[ds:bx + si:byte] & ah;
			Mem0[ds:bx + si:byte] = v41;
			SZ = cond(Mem0[ds:bx + si:byte]);
			v42 = Mem0[ds:bx + si:byte] & ah;
			Mem0[ds:bx + si:byte] = v42;
			SZ = cond(Mem0[ds:bx + si:byte]);
			v43 = Mem0[ds:bx + si:byte] & ah;
			Mem0[ds:bx + si:byte] = v43;
			SZ = cond(Mem0[ds:bx + si:byte]);
			v44 = Mem0[ds:bx + si:byte] & ah;
			Mem0[ds:bx + si:byte] = v44;
			SZ = cond(Mem0[ds:bx + si:byte]);
			v45 = Mem0[ds:bx + si:byte] & ah;
			Mem0[ds:bx + si:byte] = v45;
			SZ = cond(Mem0[ds:bx + si:byte]);
			v46 = Mem0[ds:bx + si:byte] & ah;
			Mem0[ds:bx + si:byte] = v46;
			SZ = cond(Mem0[ds:bx + si:byte]);
			v47 = Mem0[ds:bx + si:byte] & ah;
			Mem0[ds:bx + si:byte] = v47;
			SZ = cond(Mem0[ds:bx + si:byte]);
			v48 = Mem0[ds:bx + si:byte] & ah;
			Mem0[ds:bx + si:byte] = v48;
			SZ = cond(Mem0[ds:bx + si:byte]);
			v49 = Mem0[ds:bx + si:byte] & ah;
			Mem0[ds:bx + si:byte] = v49;
			SZ = cond(Mem0[ds:bx + si:byte]);
			v51 = (byte) ((word16) (ss->*((word16) si + ((word16) bp + 0x0000D8DD))) + bh);
			ss->*((word16) si + ((word16) bp + 0x0000D8DD)) = v51;
			v52 = Mem0[ds:bx + si:word16] + 0x9E89;
			Mem0[ds:bx + si:word16] = v52;
			v53 = Mem0[ds:bx + si:byte] + 0x99;
			Mem0[ds:bx + si:byte] = v53;
			ax = (word16) ax + 0x00009900;
			ax |= Mem0[ds:bx + si:word16];
			C.u0 = false;
			dx_ax = (int32) ax;
			al = (ui8) ((bool) C.u0 + (al + 0x00));
			dx_ax = (int32) ax;
			bp = (word16) bp + 1;
			v54 = Mem0[ds:1737:byte] + bh;
			Mem0[ds:1737:byte] = v54;
			SCZO = cond(v54);
		}
		else
		{
			sp = bp;
			bp = ss->*sp;
			sp = &sp.u7->u1.t0002.u0;
			sp -= 2;
			ss->*sp = es;
		}
		al += bl;
		v55 = Mem0[ds:bx + si:byte] + 0x46;
		Mem0[ds:bx + si:byte] = v55;
		v56 = ss->*((word16) bp + 0x006D);
		ss->*((word16) bp + 0x006D) = bx;
		bx = v56;
		v57 = (word16) (ds->*((word16) di + ((word16) bx + 0x0A))) + bl;
		ds->*((word16) di + ((word16) bx + 0x0A)) = v57;
		SCZO = cond(v57);
		dx_ax = (int32) ax;
		ax = (bool) C.u0 + ((word16) ax + 0x00009900);
		si = (word16) si + 1;
		v58 = (byte) ((word80) (ss->*((word16) bp + 118)) + bl);
		ss->*((word16) bp + 118) = v58;
		sp = bp;
		bp = ss->*sp;
		sp = &sp.u7->u1.t0002.u0;
		ax = (word16) ax + 0x0000D800;
		ds = ss->*sp;
		sp = &sp.u7->u1.t0002.u0;
		v59 = (byte) ((word80) (ss->*((word16) bp - 121)) + al);
		ss->*((word16) bp - 121) = v59;
		SCZO = cond(v59);
	}
	*Top += (real64) (ds->*((word16) di + ((word16) bx + 0x0000EC00)));
	cx = ss->*sp;
	sp = &sp.u7->u1.t0002.u0;
	v60 = Mem0[ds:bx + si:byte] + al;
	Mem0[ds:bx + si:byte] = v60;
	al = al ^ 0x00;
	v61 = Mem0[ds:bx + si:byte] + al;
	Mem0[ds:bx + si:byte] = v61;
	v62 = Mem0[ds:bx + si:byte] + al;
	Mem0[ds:bx + si:byte] = v62;
	v63 = Mem0[ds:bx + si:byte] + al;
	Mem0[ds:bx + si:byte] = v63;
	v64 = Mem0[ds:bx + si:byte] + al;
	Mem0[ds:bx + si:byte] = v64;
	v65 = Mem0[ds:bx + si:byte] + al;
	Mem0[ds:bx + si:byte] = v65;
	v66 = Mem0[ds:bx + si:byte] + al;
	Mem0[ds:bx + si:byte] = v66;
	sp -= 2;
	ss->*sp = bp;
	bp = sp;
	bx = bx ^ bx;
	SZ = cond(bx);
	O = false;
	C.u0 = false;
	ax.u0 = 0x00;
	sp -= 2;
	ss->*sp = ax;
	sp -= 2;
	ss->*sp = bx;
	ax.u0 = 19696;
	sp -= 2;
	ss->*sp = ax;
	sp -= 2;
	ss->*sp = bx;
	ax.u0 = 0x1D;
	sp -= 2;
	ss->*sp = cs;
	sp -= 2;
	ss->*sp = ax;
	fn3BC2_0000();
	sp = bp;
	bp = ss->*sp;
	sp = &sp.u7->u1.t0002.u0;
}

