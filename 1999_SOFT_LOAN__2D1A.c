// 1999_SOFT_LOAN__2D1A.c
// Generated by decompiling 1999_SOFT_LOAN_.exe
// using Reko decompiler version 0.11.4.0.

#include "1999_SOFT_LOAN_.h"

// 2D1A:0008: define fn2D1A_0008
// Called from:
//      fn21DC_0EC2
define fn2D1A_0008
{
	sp = fp;
	Top = 0;
	ax = 0x0200;
	sp -= 2;
	ss->*sp = (struct Eq_77816 * Eq_77820::*) ax;
	ax = 5242;
	sp -= 2;
	ss->*sp = (struct Eq_77816 * Eq_77820::*) ds;
	sp -= 2;
	ss->*sp = (struct Eq_77816 * Eq_77820::*) ax;
	fn21DC_06DC();
	sp = (struct Eq_77816 * Eq_77820::*) ((char *) sp + 6);
	ax |= ax;
	SZ = cond(ax);
	O = false;
	C = false;
	if (Test(EQ,Z))
	{
		ax -= ax;
		SCZO = cond(ax);
	}
	else
	{
		ax = 0x0200;
		sp -= 2;
		ss->*sp = (struct Eq_77816 * Eq_77820::*) ax;
		ax -= ax;
		SCZO = cond(ax);
		sp -= 2;
		ss->*sp = (struct Eq_77816 * Eq_77820::*) ax;
		v12 = ds->ptr147C;
		sp -= 2;
		ss->*sp = (struct Eq_77816 * Eq_77820::*) v12;
		v13 = ds->ptr147A;
		sp -= 2;
		ss->*sp = (struct Eq_77816 * Eq_77820::*) v13;
		fn2017_0228();
		sp = (struct Eq_77816 * Eq_77820::*) ((char *) sp + 8);
		SCZO = cond(sp);
		ax = 0x01;
	}
}

// 2D1A:003C: define fn2D1A_003C
// Called from:
//      fn2D1A_02FC
//      fn2D1A_03E4
//      fn2D1A_0B04
define fn2D1A_003C
{
	sp = fp;
	Top = 0;
	sp -= 2;
	ss->*sp = bp;
	bp = sp;
	sp -= 0x14;
	sp -= 2;
	ss->*sp = si;
	bx = ss->*((word16) bp + 6);
	bx <<= 0x01;
	bx <<= 0x01;
	es_si = Mem0[ds:5242:segptr32];
	ax = Mem0[es:bx + si:word16];
	dx = Mem0[es:bx + 2 + si:word16];
	ss->*((word16) bp - 0x0C) = ax;
	ss->*((word16) bp - 0x0A) = dx;
	es_bx = ss->*((word16) bp - 0x0C);
	SCZO = cond(es->*((word16) bx + 28) - 0x00);
	if (Test(EQ,Z))
	{
l2D1A_016B:
		es_bx = ss->*((word16) bp - 0x0C);
		es->*((word16) bx + 30) = 0x00;
		es->*((word16) bx + 32) = 0x00;
		es->*((word16) bx + 28) = 0x00;
		si = ss->*sp;
		sp = bp;
		bp = ss->*sp;
		sp = (word16) sp + 2;
		return;
	}
	SZP = cond(es->*bx & 0x04);
	O = false;
	C.u0 = false;
	if (Test(NE,Z))
		goto l2D1A_016B;
	ax -= ax;
	sp -= 2;
	ss->*sp = ax;
	v19 = es->*((word16) bx + 8);
	sp -= 2;
	ss->*sp = v19;
	ax = es->*((word16) bx + 30);
	dx -= dx;
	ax += Mem0[es:bx + 18:word16];
	SCZO = cond(ax);
	dx = dx + Mem0[es:bx + 20:word16] + C;
	--ax;
	SCZO = cond(ax);
	dx = dx - 0x00 - C;
	SCZO = cond(dx);
	sp -= 2;
	ss->*sp = dx;
	sp -= 2;
	ss->*sp = ax;
	fn3CEE_05A6();
	sp = (word16) sp + 8;
	es_bx = ss->*((word16) bp - 0x0C);
	ax += Mem0[es:bx + 6:word16];
	SCZO = cond(ax);
	dx = dx + 0x00 + C;
	ss->*((word16) bp - 4) = ax;
	ss->*((word16) bp - 2) = dx;
	ah &= 0x01;
	ss->*((word16) bp - 8) = ax;
	v22 = ss->*((word16) bp - 4) & 0xFE00;
	ss->*((word16) bp - 4) = v22;
	SZ = cond(ss->*((word16) bp - 4));
	ax = es->*((word16) bx + 6);
	dx -= dx;
	SCZO = cond(dx - ss->*((word16) bp - 2));
	if (Test(UGE,C))
	{
		if (Test(UGT,CZ))
		{
l2D1A_00C0:
			ax = es->*((word16) bx + 6);
			ax -= ss->*((word16) bp - 4);
			v24 = ss->*((word16) bp - 8) - ax;
			ss->*((word16) bp - 8) = v24;
			SCZO = cond(v24);
			ax = es->*((word16) bx + 6);
			ss->*((word16) bp - 4) = ax;
			(ss->*((word16) bp - 2)).u0 = 0x00;
			goto l2D1A_00D6;
		}
		SCZO = cond(ax - ss->*((word16) bp - 4));
		if (Test(UGT,CZ))
			goto l2D1A_00C0;
	}
l2D1A_00D6:
	ax = es->*((word16) bx + 8);
	dx_ax = es->*((word16) bx + 30) *32 ax;
	ax += Mem0[es:bx + 22:word16];
	ax -= ss->*((word16) bp - 8);
	ss->*((word16) bp - 6) = ax;
	ax -= ax;
	SCZO = cond(ax);
	sp -= 2;
	ss->*sp = ax;
	v26 = ss->*((word16) bp - 2);
	sp -= 2;
	ss->*sp = v26;
	v27 = ss->*((word16) bp - 4);
	sp -= 2;
	ss->*sp = v27;
	v28 = es->*((word16) bx + 2);
	sp -= 2;
	ss->*sp = v28;
	fn208F_0115();
	sp = (word16) sp + 8;
	es_bx = ss->*((word16) bp - 0x0C);
	ax = es->*((word16) bx + 32);
	ax -= es->*((word16) bx + 30);
	ax = (word16) ax + 1;
	dx_ax = es->*((word16) bx + 8) *32 ax;
	ax += Mem0[ss:bp + -8:word16];
	ss->*((word16) bp - 18) = ax;
	SCZO = cond(es->*((word16) bx + 0x0A) - 0x00);
	if (Test(NE,Z))
	{
		v30 = es->*((word16) bx + 0x0A);
		sp -= 2;
		ss->*sp = v30;
		fn2C27_0440();
		sp = (word16) sp + 2;
		SCZO = cond(sp);
	}
	else
	{
		es_bx = ss->*((word16) bp - 0x0C);
		ax = es->*((word16) bx + 0x0C);
		dx = es->*((word16) bx + 0x0E);
	}
	ax += Mem0[ss:bp + -6:word16];
	SCZO = cond(ax);
	ss->*((word16) bp - 16) = ax;
	ss->*((word16) bp - 0x0E) = dx;
	v31 = ss->*((word16) bp - 18);
	sp -= 2;
	ss->*sp = v31;
	sp -= 2;
	ss->*sp = dx;
	sp -= 2;
	ss->*sp = ax;
	es_bx = ss->*((word16) bp - 0x0C);
	v32 = es->*((word16) bx + 2);
	sp -= 2;
	ss->*sp = v32;
	fn208F_00EF();
	sp = (word16) sp + 8;
	ss->*((word16) bp - 20) = ax;
	ax = ss->*((word16) bp - 18);
	SCZO = cond(ss->*((word16) bp - 20) - ax);
	if (Test(NE,Z))
	{
		ax.u0 = 24246;
		sp -= 2;
		ss->*sp = ds;
		sp -= 2;
		ss->*sp = ax;
		ax -= ax;
		SCZO = cond(ax);
		sp -= 2;
		ss->*sp = ax;
		fn20B2_10AC();
		sp = (word16) sp + 6;
		SCZO = cond(sp);
	}
	goto l2D1A_016B;
}

// 2D1A:0186: define fn2D1A_0186
// Called from:
//      fn2D1A_02FC
//      fn2D1A_03E4
define fn2D1A_0186
{
	sp = fp;
	Top = 0;
	sp -= 2;
	ss->*sp = bp;
	bp = sp;
	sp -= 0x14;
	sp -= 2;
	ss->*sp = si;
	ax = ss->*((word16) bp + 0x0A);
	dx = ss->*((word16) bp + 0x0C);
	--ax;
	SCZO = cond(ax);
	dx = dx - 0x00 - C;
	sp -= 2;
	ss->*sp = dx;
	sp -= 2;
	ss->*sp = ax;
	es_bx = ss->*((word16) bp + 6);
	ax -= ax;
	SCZO = cond(ax);
	sp -= 2;
	ss->*sp = ax;
	v14 = es->*((word16) bx + 8);
	sp -= 2;
	ss->*sp = v14;
	fn3CEE_05A6();
	sp = (word16) sp + 8;
	es_bx = ss->*((word16) bp + 6);
	ax += Mem0[es:bx + 6:word16];
	SCZO = cond(ax);
	dx = (bool) C + dx.u1;
	ss->*((word16) bp - 16) = ax;
	ss->*((word16) bp - 0x0E) = dx;
	ax &= 0xFE00;
	ss->*((word16) bp - 20) = ax;
	ss->*((word16) bp - 18) = dx;
	ax = es->*((word16) bx + 6);
	dx -= dx;
	SCZO = cond(dx - ss->*((word16) bp - 18));
	if (Test(UGE,C))
	{
		if (Test(UGT,CZ))
		{
l2D1A_01D5:
			ax = es->*((word16) bx + 6);
			ss->*((word16) bp - 20) = ax;
			(ss->*((word16) bp - 18)).u0 = 0x00;
			goto l2D1A_01E1;
		}
		SCZO = cond(ax - ss->*((word16) bp - 20));
		if (Test(UGT,CZ))
			goto l2D1A_01D5;
	}
l2D1A_01E1:
	ax -= ax;
	SCZO = cond(ax);
	sp -= 2;
	ss->*sp = ax;
	v18 = ss->*((word16) bp - 18);
	sp -= 2;
	ss->*sp = v18;
	v19 = ss->*((word16) bp - 20);
	sp -= 2;
	ss->*sp = v19;
	v20 = es->*((word16) bx + 2);
	sp -= 2;
	ss->*sp = v20;
	fn208F_0115();
	sp = (word16) sp + 8;
	es_bx = ss->*((word16) bp + 6);
	SCZO = cond(es->*((word16) bx + 0x0A) - 0x00);
	if (Test(NE,Z))
	{
		v22 = es->*((word16) bx + 0x0A);
		sp -= 2;
		ss->*sp = v22;
		fn2C27_0440();
		sp = (word16) sp + 2;
		SCZO = cond(sp);
	}
	else
	{
		es_bx = ss->*((word16) bp + 6);
		ax = es->*((word16) bx + 0x0C);
		dx = es->*((word16) bx + 0x0E);
	}
	ss->*((word16) bp - 8) = ax;
	ss->*((word16) bp - 6) = dx;
	ax = ss->*((word16) bp + 0x0E);
	ss->*((word16) bp - 0x0A) = ax;
	sp -= 2;
	ss->*sp = ax;
	sp -= 2;
	ss->*sp = dx;
	v23 = ss->*((word16) bp - 8);
	sp -= 2;
	ss->*sp = v23;
	es_bx = ss->*((word16) bp + 6);
	v24 = es->*((word16) bx + 2);
	sp -= 2;
	ss->*sp = v24;
	fn208F_00C9();
	sp = (word16) sp + 8;
	ss->*((word16) bp - 0x0A) = ax;
	ax = ss->*((word16) bp - 16);
	ax -= ss->*((word16) bp - 20);
	ss->*((word16) bp - 0x0C) = ax;
	dx -= dx;
	es_bx = ss->*((word16) bp + 6);
	v26 = dx_ax;
	dx.u1 = (uint16) (v26 % es->*((word16) bx + 8));
	ax.u1 = (uint16) (v26 /u es->*((word16) bx + 8));
	cx = ss->*((word16) bp + 0x0A);
	bx = ss->*((word16) bp + 0x0C);
	cx -= ax;
	SCZO = cond(cx);
	bx = bx - 0x00 - C;
	si = ss->*((word16) bp + 6);
	es->*((word16) si + 18) = cx;
	es->*((word16) si + 20) = bx;
	ax = ss->*((word16) bp - 0x0C);
	dx -= dx;
	bx = si;
	v28 = dx_ax;
	dx.u1 = (uint16) (v28 % es->*((word16) bx + 8));
	ax.u1 = (uint16) (v28 /u es->*((word16) bx + 8));
	es->*((word16) bx + 22) = dx;
	ax = ss->*((word16) bp - 0x0A);
	ax -= dx;
	dx -= dx;
	v29 = dx_ax;
	dx.u1 = (uint16) (v29 % es->*((word16) bx + 8));
	ax.u1 = (uint16) (v29 /u es->*((word16) bx + 8));
	es->*((word16) bx + 24) = ax;
	(es->*((word16) bx + 26)).u0 = 0x00;
	SCZO = cond(es->*((word16) bx + 4) - 0x00);
	if (Test(NE,Z))
	{
		bx = es->*((word16) bx + 4);
		bx <<= 0x01;
		bx <<= 0x01;
		es_si = ds->t130A;
		ax = Mem0[es:bx + si:word16];
		dx = es->*((word16) si + ((word16) bx + 2));
		ss->*((word16) bp - 4) = ax;
		ss->*((word16) bp - 2) = dx;
		es_bx = ss->*((word16) bp + 6);
		ax = es->*((word16) bx + 18);
		dx = es->*((word16) bx + 20);
		ax += Mem0[es:bx + 24:word16];
		SCZO = cond(ax);
		dx = dx + Mem0[es:bx + 26:word16] + C;
		--ax;
		SCZO = cond(ax);
		dx = dx - 0x00 - C;
		es_bx = ss->*((word16) bp - 4);
		SCZO = cond(dx - es->*((word16) bx + 46));
		if (Test(LT,SO))
			goto l2D1A_02F3;
		if (Test(GT,SZO))
		{
l2D1A_02D2:
			ax = es->*((word16) bx + 44);
			dx = es->*((word16) bx + 46);
			es_bx = ss->*((word16) bp + 6);
			ax -= es->*((word16) bx + 18);
			SCZO = cond(ax);
			dx = dx - es->*((word16) bx + 20) - C;
			ax = (word16) ax.u1 + 1;
			SCZO = cond(ax);
			dx = (bool) C + dx.u1;
			SCZO = cond(dx);
			es->*((word16) bx + 24) = ax;
			es->*((word16) bx + 26) = dx;
			goto l2D1A_02F3;
		}
		SCZO = cond(ax - es->*((word16) bx + 44));
		if (Test(UGT,CZ))
			goto l2D1A_02D2;
	}
l2D1A_02F3:
	ax = ss->*((word16) bp - 0x0A);
	si = ss->*sp;
	sp = bp;
	bp = ss->*sp;
	sp = (word16) sp + 2;
}

// 2D1A:02FC: define fn2D1A_02FC
// Called from:
//      fn2644_20AA
define fn2D1A_02FC
{
	sp = fp;
	Top = 0;
	sp -= 2;
	ss->*sp = bp;
	bp = sp;
	sp -= 0x0E;
	sp -= 2;
	ss->*sp = si;
	bx = ss->*((word16) bp + 6);
	bx <<= 0x01;
	bx <<= 0x01;
	es_si = ds->t147A;
	ax = Mem0[es:bx + si:word16];
	dx = Mem0[es:bx + 2 + si:word16];
	ss->*((word16) bp - 4) = ax;
	ss->*((word16) bp - 2) = dx;
	ax = ss->*((word16) bp + 8);
	dx = ss->*((word16) bp + 0x0A);
	es_bx = ss->*((word16) bp - 4);
	ax -= es->*((word16) bx + 18);
	SCZO = cond(ax);
	dx = dx - es->*((word16) bx + 20) - C;
	ss->*((word16) bp - 0x0E) = ax;
	ss->*((word16) bp - 0x0C) = dx;
	dx |= dx;
	SZ = cond(dx);
	O = false;
	C.u0 = false;
	if (Test(GE,SO))
	{
		SCZO = cond(es->*((word16) bx + 26) - dx);
		if (Test(GT,SZO))
			goto l2D1A_03A7;
		if (Test(GE,SO))
		{
			SCZO = cond(es->*((word16) bx + 24) - ax);
			if (Test(UGT,CZ))
				goto l2D1A_03A7;
		}
	}
	SZP = cond(es->*bx & 0x01);
	O = false;
	C.u0 = false;
	if (Test(NE,Z))
	{
		ax = es->*((word16) bx + 24);
		ax |= es->*((word16) bx + 26);
		SZ = cond(ax);
		O = false;
		C.u0 = false;
		if (Test(EQ,Z))
		{
			v23 = es->*((word16) bx + 16);
			sp -= 2;
			ss->*sp = v23;
			ax.u0 = 0x01;
			dx_ax.u0 = (int32) ax;
			sp -= 2;
			ss->*sp = dx;
			sp -= 2;
			ss->*sp = ax;
			sp -= 2;
			ss->*sp = es;
			sp -= 2;
			ss->*sp = bx;
			fn2D1A_0186();
			sp = (word16) sp + 0x0A;
			SCZO = cond(sp);
		}
		ax -= ax;
		SCZO = cond(ax);
		dx_ax.u0 = (int32) ax;
		si = ss->*sp;
		sp = bp;
		bp = ss->*sp;
		sp = (word16) sp + 2;
		return;
	}
	v25 = ss->*((word16) bp + 6);
	sp -= 2;
	ss->*sp = v25;
	fn2D1A_003C();
	sp = (word16) sp + 2;
	SCZO = cond(sp);
	es_bx = ss->*((word16) bp - 4);
	v26 = es->*((word16) bx + 16);
	sp -= 2;
	ss->*sp = v26;
	v27 = ss->*((word16) bp + 0x0A);
	sp -= 2;
	ss->*sp = v27;
	v28 = ss->*((word16) bp + 8);
	sp -= 2;
	ss->*sp = v28;
	sp -= 2;
	ss->*sp = es;
	sp -= 2;
	ss->*sp = bx;
	fn2D1A_0186();
	sp = (word16) sp + 0x0A;
	ax = ss->*((word16) bp + 8);
	dx = ss->*((word16) bp + 0x0A);
	es_bx = ss->*((word16) bp - 4);
	ax -= es->*((word16) bx + 18);
	SCZO = cond(ax);
	dx = dx - es->*((word16) bx + 20) - C;
	SCZO = cond(dx);
	ss->*((word16) bp - 0x0E) = ax;
	ss->*((word16) bp - 0x0C) = dx;
l2D1A_03A7:
	ax = es->*((word16) bx + 8);
	dx_ax = ss->*((word16) bp - 0x0E) *32 ax;
	ax += Mem0[es:bx + 22:word16];
	ss->*((word16) bp - 0x0A) = ax;
	SCZO = cond(es->*((word16) bx + 0x0A) - 0x00);
	if (Test(NE,Z))
	{
		v29 = es->*((word16) bx + 0x0A);
		sp -= 2;
		ss->*sp = v29;
		fn2C27_0440();
		sp = (word16) sp + 2;
		SCZO = cond(sp);
	}
	else
	{
		es_bx = ss->*((word16) bp - 4);
		ax = es->*((word16) bx + 0x0C);
		dx = es->*((word16) bx + 0x0E);
	}
	ax += Mem0[ss:bp + -0x0A:word16];
	SCZO = cond(ax);
	ss->*((word16) bp - 8) = ax;
	ss->*((word16) bp - 6) = dx;
	si = ss->*sp;
	sp = bp;
	bp = ss->*sp;
	sp = (word16) sp + 2;
}

// 2D1A:03E4: define fn2D1A_03E4
// Called from:
//      fn2644_21CA
define fn2D1A_03E4
{
	sp = fp;
	Top = 0;
	sp -= 2;
	ss->*sp = bp;
	bp = sp;
	sp -= 0x0E;
	sp -= 2;
	ss->*sp = si;
	bx = ss->*((word16) bp + 6);
	bx <<= 0x01;
	bx <<= 0x01;
	es_si = ds->t147A;
	ax = Mem0[es:bx + si:word16];
	dx = Mem0[es:bx + 2 + si:word16];
	ss->*((word16) bp - 8) = ax;
	ss->*((word16) bp - 6) = dx;
	ax = ss->*((word16) bp + 8);
	dx = ss->*((word16) bp + 0x0A);
	es_bx = ss->*((word16) bp - 8);
	ax -= es->*((word16) bx + 18);
	SCZO = cond(ax);
	dx = dx - es->*((word16) bx + 20) - C;
	ss->*((word16) bp - 0x0E) = ax;
	ss->*((word16) bp - 0x0C) = dx;
	ax = es->*((word16) bx + 24);
	ax |= es->*((word16) bx + 26);
	SZ = cond(ax);
	O = false;
	C.u0 = false;
	if (Test(NE,Z))
	{
		dx |= dx;
		SZ = cond(dx);
		O = false;
		C.u0 = false;
		if (Test(LT,SO))
		{
l2D1A_0439:
			ax -= ax;
			SCZO = cond(ax);
			dx_ax.u0 = (int32) ax;
			si = ss->*sp;
			sp = bp;
			bp = ss->*sp;
			sp = (word16) sp + 2;
			return;
		}
		ax = ss->*((word16) bp - 0x0E);
		SCZO = cond(es->*((word16) bx + 26) - dx);
		if (Test(LE,SZO))
		{
			if (Test(LT,SO))
				goto l2D1A_0439;
			SCZO = cond(es->*((word16) bx + 24) - ax);
			if (Test(ULT,C))
				goto l2D1A_0439;
		}
	}
	ax = ss->*((word16) bp - 0x0E);
	dx = ss->*((word16) bp - 0x0C);
	SCZO = cond(es->*((word16) bx + 24) - ax);
	if (Test(EQ,Z))
	{
		SCZO = cond(es->*((word16) bx + 26) - dx);
		if (Test(NE,Z))
			goto l2D1A_0489;
		ax = es->*((word16) bx + 16);
		ax -= es->*((word16) bx + 22);
		dx -= dx;
		v22 = dx_ax;
		dx = (uint16) (v22 % es->*((word16) bx + 8));
		ax = (uint16) (v22 /u es->*((word16) bx + 8));
		dx -= dx;
		SCZO = cond(dx - es->*((word16) bx + 26));
		if (Test(ULE,CZ))
		{
			if (Test(ULT,C))
			{
l2D1A_0472:
				v24 = ss->*((word16) bp + 6);
				sp -= 2;
				ss->*sp = v24;
				fn2D1A_003C();
				sp = (word16) sp + 2;
				es_bx = ss->*((word16) bp - 8);
				ax -= ax;
				SCZO = cond(ax);
				es->*((word16) bx + 26) = ax;
				es->*((word16) bx + 24) = ax;
				goto l2D1A_0489;
			}
			SCZO = cond(ax - es->*((word16) bx + 24));
			if (Test(ULE,CZ))
				goto l2D1A_0472;
		}
	}
l2D1A_0489:
	ax = es->*((word16) bx + 24);
	ax |= es->*((word16) bx + 26);
	SZ = cond(ax);
	O = false;
	C.u0 = false;
	if (Test(EQ,Z))
	{
		SZP = cond(es->*bx & 0x04);
		O = false;
		C.u0 = false;
		if (Test(NE,Z))
		{
			ax = ss->*((word16) bp + 8);
			dx = ss->*((word16) bp + 0x0A);
			es->*((word16) bx + 18) = ax;
			es->*((word16) bx + 20) = dx;
			es->*((word16) bx + 22) = 0x00;
		}
		else
		{
			ax.u0 = 0x0200;
			sp -= 2;
			ss->*sp = ax;
			v26 = ss->*((word16) bp + 0x0A);
			sp -= 2;
			ss->*sp = v26;
			v27 = ss->*((word16) bp + 8);
			sp -= 2;
			ss->*sp = v27;
			sp -= 2;
			ss->*sp = es;
			sp -= 2;
			ss->*sp = bx;
			fn2D1A_0186();
			sp = (word16) sp + 0x0A;
			SCZO = cond(sp);
		}
		ax = ss->*((word16) bp + 8);
		dx = ss->*((word16) bp + 0x0A);
		es_bx = ss->*((word16) bp - 8);
		ax -= es->*((word16) bx + 18);
		SCZO = cond(ax);
		dx = dx - es->*((word16) bx + 20) - C;
		SCZO = cond(dx);
		ss->*((word16) bp - 0x0E) = ax;
		ss->*((word16) bp - 0x0C) = dx;
		es->*((word16) bx + 24) = ax;
		es->*((word16) bx + 26) = dx;
	}
	ax = es->*((word16) bx + 8);
	dx_ax = ss->*((word16) bp - 0x0E) *32 ax;
	ax += Mem0[es:bx + 22:word16];
	ss->*((word16) bp - 0x0A) = ax;
	SCZO = cond(es->*((word16) bx + 0x0A) - 0x00);
	if (Test(NE,Z))
	{
		v28 = es->*((word16) bx + 0x0A);
		sp -= 2;
		ss->*sp = v28;
		fn2C27_0440();
		sp = (word16) sp + 2;
		SCZO = cond(sp);
	}
	else
	{
		es_bx = ss->*((word16) bp - 8);
		ax = es->*((word16) bx + 0x0C);
		dx = es->*((word16) bx + 0x0E);
	}
	ax += Mem0[ss:bp + -0x0A:word16];
	SCZO = cond(ax);
	ss->*((word16) bp - 4) = ax;
	ss->*((word16) bp - 2) = dx;
	es_bx = ss->*((word16) bp - 8);
	v29 = es->*((word16) bx + 8);
	sp -= 2;
	ss->*sp = v29;
	v30 = ss->*((word16) bp + 0x0E);
	sp -= 2;
	ss->*sp = v30;
	v31 = ss->*((word16) bp + 0x0C);
	sp -= 2;
	ss->*sp = v31;
	sp -= 2;
	ss->*sp = dx;
	sp -= 2;
	ss->*sp = ax;
	fn2017_0258();
	sp = (word16) sp + 0x0A;
	es_bx = ss->*((word16) bp - 8);
	ax = ss->*((word16) bp - 0x0E);
	dx = ss->*((word16) bp - 0x0C);
	SCZO = cond(es->*((word16) bx + 24) - ax);
	if (Test(EQ,Z))
	{
		SCZO = cond(es->*((word16) bx + 26) - dx);
		if (Test(EQ,Z))
		{
			v32 = (word32) (es->*((word16) bx + 24)) + 1;
			es->*((word16) bx + 24) = v32;
			SCZO = cond(v32);
			v33 = Mem0[es:bx + 26:word16] + 0x00 + C;
			es->*((word16) bx + 26) = v33;
			SCZO = cond(v33);
		}
	}
	SCZO = cond(es->*((word16) bx + 28) - 0x00);
	if (Test(EQ,Z))
	{
		es->*((word16) bx + 28) = 0x01;
		ax = ss->*((word16) bp - 0x0E);
		es->*((word16) bx + 30) = ax;
	}
	else
	{
		ax = es->*((word16) bx + 30);
		ax -= ss->*((word16) bp - 0x0E);
		SCZO = cond(ax);
		cx = cx - cx - C;
		ax &= cx;
		ax += Mem0[ss:bp + -0x0E:word16];
		es->*((word16) bx + 30) = ax;
		ax = es->*((word16) bx + 32);
		ax -= ss->*((word16) bp - 0x0E);
		SCZO = cond(ax);
		cx = cx - cx - C;
		cx = ~cx;
		ax &= cx;
		ax += Mem0[ss:bp + -0x0E:word16];
		SCZO = cond(ax);
	}
	es->*((word16) bx + 32) = ax;
	ax = ss->*((word16) bp - 4);
	dx = ss->*((word16) bp - 2);
	si = ss->*sp;
	sp = bp;
	bp = ss->*sp;
	sp = (word16) sp + 2;
}

// 2D1A:0598: define fn2D1A_0598
// Called from:
//      fn2B41_0006
define fn2D1A_0598
{
	sp = fp;
	Top = 0;
	sp -= 2;
	ss->*sp = bp;
	bp = sp;
	sp -= 0x0A;
	sp -= 2;
	ss->*sp = si;
	bx = ss->*((word16) bp + 6);
	bx <<= 0x01;
	bx <<= 0x01;
	es_si = ds->t147A;
	ax = Mem0[es:bx + si:word16];
	dx = es->*((word16) si + ((word16) bx + 2));
	ss->*((word16) bp - 0x0A) = ax;
	ss->*((word16) bp - 8) = dx;
	es_bx = ss->*((word16) bp - 0x0A);
	SCZO = cond(es->*((word16) bx + 0x0A) - 0x00);
	if (Test(NE,Z))
	{
		v16 = es->*((word16) bx + 0x0A);
		sp -= 2;
		ss->*sp = v16;
		fn2C27_0440();
		sp = (word16) sp + 2;
		SCZO = cond(sp);
	}
	else
	{
		es_bx = ss->*((word16) bp - 0x0A);
		ax = es->*((word16) bx + 0x0C);
		dx = es->*((word16) bx + 0x0E);
	}
	ss->*((word16) bp - 6) = ax;
	ss->*((word16) bp - 4) = dx;
	es_bx = ss->*((word16) bp - 0x0A);
	ax = es->*((word16) bx + 24);
	ax |= es->*((word16) bx + 26);
	SZ = cond(ax);
	O = false;
	C.u0 = false;
	if (Test(EQ,Z))
	{
		v20 = es->*((word16) bx + 16);
		sp -= 2;
		ss->*sp = v20;
		sp -= 2;
		ss->*sp = dx;
		v21 = ss->*((word16) bp - 6);
		sp -= 2;
		ss->*sp = v21;
		v22 = es->*((word16) bx + 2);
		sp -= 2;
		ss->*sp = v22;
		fn208F_00C9();
		sp = (word16) sp + 8;
		SCZO = cond(sp);
		es_bx = ss->*((word16) bp - 0x0A);
		es->*((word16) bx + 24) = ax;
		es->*((word16) bx + 26) = 0x00;
		(es->*((word16) bx + 22)).u0 = 0x00;
	}
	ax = es->*((word16) bx + 24);
	ax |= es->*((word16) bx + 26);
	SZ = cond(ax);
	O = false;
	C.u0 = false;
	if (Test(NE,Z))
	{
		bx = es->*((word16) bx + 22);
		es_si = ss->*((word16) bp - 6);
		al = Mem0[es:bx + si:byte];
		ss->*((word16) bp - 2) = al;
		es_bx = ss->*((word16) bp - 0x0A);
		v24 = es->*((word16) bx + 24) - 0x01;
		es->*((word16) bx + 24) = v24;
		SCZO = cond(v24);
		v25 = es->*((word16) bx + 26) - 0x00 - C;
		es->*((word16) bx + 26) = v25;
		SCZO = cond(v25);
		v26 = (word32) (es->*((word16) bx + 22)) + 1;
		es->*((word16) bx + 22) = v26;
		SZO = cond(v26);
	}
	else
		(ss->*((word16) bp - 2)).u1 = 0x1A;
	al = ss->*((word16) bp - 2);
	ah -= ah;
	SCZO = cond(ah);
	si = ss->*sp;
	sp = bp;
	bp = ss->*sp;
	sp = (word16) sp + 2;
}

// 2D1A:064E: define fn2D1A_064E
// Called from:
//      fn2B41_0052
//      fn2D1A_0B04
define fn2D1A_064E
{
	sp = fp;
	Top = 0;
	sp -= 2;
	ss->*sp = bp;
	bp = sp;
	sp -= 0x0A;
	sp -= 2;
	ss->*sp = si;
	bx = ss->*((word16) bp + 6);
	bx <<= 0x01;
	bx <<= 0x01;
	es_si = Mem0[ds:5242:segptr32];
	ax = Mem0[es:bx + si:word16];
	dx = Mem0[es:bx + 2 + si:word16];
	ss->*((word16) bp - 8) = ax;
	ss->*((word16) bp - 6) = dx;
	es_bx = ss->*((word16) bp - 8);
	SCZO = cond(es->*((word16) bx + 0x0A) - 0x00);
	if (Test(NE,Z))
	{
		v16 = es->*((word16) bx + 0x0A);
		sp -= 2;
		ss->*sp = v16;
		fn2C27_0440();
		sp = (word16) sp + 2;
		SCZO = cond(sp);
	}
	else
	{
		es_bx = ss->*((word16) bp - 8);
		ax = es->*((word16) bx + 0x0C);
		dx = es->*((word16) bx + 0x0E);
	}
	ss->*((word16) bp - 4) = ax;
	ss->*((word16) bp - 2) = dx;
	SCZO = cond(ss->*((word16) bp + 0x0C) - 0x00);
	if (Test(NE,Z))
	{
		es_bx = ss->*((word16) bp - 8);
		ax = es->*((word16) bx + 24);
		dx = es->*((word16) bx + 26);
		ax += Mem0[ss:bp + 0x0C:word16];
		SCZO = cond(ax);
		dx = dx + 0x00 + C;
		cx = (word16) (es->*((word16) bx + 16));
		bx -= bx;
		SCZO = cond(dx - bx);
		if (Test(ULT,C))
			goto l2D1A_0708;
		if (Test(ULE,CZ))
		{
			SCZO = cond(ax - cx);
			if (Test(ULE,CZ))
				goto l2D1A_0708;
		}
	}
	es_bx = ss->*((word16) bp - 8);
	v20 = es->*((word16) bx + 24);
	sp -= 2;
	ss->*sp = v20;
	v21 = ss->*((word16) bp - 2);
	sp -= 2;
	ss->*sp = v21;
	v22 = ss->*((word16) bp - 4);
	sp -= 2;
	ss->*sp = v22;
	v23 = es->*((word16) bx + 2);
	sp -= 2;
	ss->*sp = v23;
	fn208F_00EF();
	sp = (word16) sp + 8;
	ss->*((word16) bp - 0x0A) = ax;
	es_bx = ss->*((word16) bp - 8);
	dx -= dx;
	SCZO = cond(es->*((word16) bx + 24) - ax);
	if (Test(EQ,Z))
	{
		SCZO = cond(es->*((word16) bx + 26) - dx);
		if (Test(EQ,Z))
		{
l2D1A_06FB:
			es_bx = ss->*((word16) bp - 8);
			ax -= ax;
			SCZO = cond(ax);
			es->*((word16) bx + 26) = ax;
			es->*((word16) bx + 24) = ax;
l2D1A_0708:
			SCZO = cond(ss->*((word16) bp + 0x0C) - 0x00);
			if (Test(NE,Z))
			{
				v24 = ss->*((word16) bp + 0x0C);
				sp -= 2;
				ss->*sp = v24;
				v25 = ss->*((word16) bp + 0x0A);
				sp -= 2;
				ss->*sp = v25;
				v26 = ss->*((word16) bp + 8);
				sp -= 2;
				ss->*sp = v26;
				bx = ss->*((word16) bp - 8);
				ax = es->*((word16) bx + 24);
				ax += Mem0[ss:bp + -4:word16];
				SCZO = cond(ax);
				dx = ss->*((word16) bp - 2);
				sp -= 2;
				ss->*sp = dx;
				sp -= 2;
				ss->*sp = ax;
				fn2017_0258();
				sp = (word16) sp + 0x0A;
				SCZO = cond(sp);
			}
			es_bx = ss->*((word16) bp - 8);
			ax = ss->*((word16) bp + 0x0C);
			dx -= dx;
			v27 = Mem0[es:bx + 24:word16] + ax;
			es->*((word16) bx + 24) = v27;
			SCZO = cond(v27);
			v28 = Mem0[es:bx + 26:word16] + dx + C;
			es->*((word16) bx + 26) = v28;
			SCZO = cond(v28);
			si = ss->*sp;
			sp = bp;
			bp = ss->*sp;
			sp = (word16) sp + 2;
			return;
		}
	}
	ax.u0 = 0x5EC0;
	sp -= 2;
	ss->*sp = ds;
	sp -= 2;
	ss->*sp = ax;
	ax -= ax;
	SCZO = cond(ax);
	sp -= 2;
	ss->*sp = ax;
	fn20B2_10AC();
	sp = (word16) sp + 6;
	SCZO = cond(sp);
	goto l2D1A_06FB;
}

// 2D1A:0744: define fn2D1A_0744
// Called from:
//      fn2D1A_090C
define fn2D1A_0744
{
	selector ds;
	word16 wArg04;
	Top_3 = 0;
	SCZO_15 = cond(wArg04 << 0x02);
	C_30 = SLICE(SCZO_15, bool, 1);
	O_31 = SLICE(SCZO_15, bool, 4);
	S_32 = (bool) SCZO_15;
	Z_33 = SLICE(SCZO_15, bool, 2);
	es_si_17 = ds->t147A;
	si_18 = (word16) es_si_17;
	es_bx_19 = si_18[wArg04];
	es_20 = SLICE(es_bx_19, selector, 16);
	bx_21 = (word16) es_bx_19;
	ax_22 = es_bx_19->w0010;
}

// 2D1A:07BA: define fn2D1A_07BA
// Called from:
//      fn2D1A_07F6
define fn2D1A_07BA
{
	selector ds;
	word16 wArg04;
	word16 wArg06;
	word16 wArg08;
	word16 wArg0A;
	Top_3 = 0;
	SCZO_16 = cond(wArg04 << 0x02);
	C_47 = SLICE(SCZO_16, bool, 1);
	O_48 = SLICE(SCZO_16, bool, 4);
	S_49 = (bool) SCZO_16;
	Z_50 = SLICE(SCZO_16, bool, 2);
	es_si_18 = ds->t147A;
	es_19 = SLICE(es_si_18, selector, 16);
	si_20 = (word16) es_si_18;
	ax_21 = si_20[wArg04].ptr0000;
	dx_22 = (Eq_80619) si_20[((word16) (wArg04 << 0x02) + 2) /16 4].ptr0000;
	ptrLoc06_43 = SEQ(dx_22, ax_21);
	es_27 = dx_22;
	bx_28 = ax_21;
	ptrLoc06_43->w0002 = wArg06;
	ptrLoc06_43->w0006 = wArg08;
	ax_32 = wArg0A;
	ptrLoc06_43->w0008 = wArg0A;
}

// 2D1A:07F6: define fn2D1A_07F6
// Called from:
//      fn2D1A_090C
define fn2D1A_07F6
{
	sp = fp;
	Top = 0;
	sp -= 2;
	ss->*sp = bp;
	bp = sp;
	sp -= 0x08;
	sp -= 2;
	ss->*sp = si;
	bx = ss->*((word16) bp + 6);
	bx <<= 0x01;
	bx <<= 0x01;
	es_si = ds->t147A;
	ax = Mem0[es:bx + si:word16];
	dx = es->*((word16) si + ((word16) bx + 2));
	ss->*((word16) bp - 8) = ax;
	ss->*((word16) bp - 6) = dx;
	bx = ss->*((word16) bp + 8);
	bx <<= 0x01;
	bx <<= 0x01;
	es_si = ds->t130A;
	ax = Mem0[es:bx + si:word16];
	dx = es->*((word16) si + ((word16) bx + 2));
	ss->*((word16) bp - 4) = ax;
	ss->*((word16) bp - 2) = dx;
	ax |= dx;
	SZ = cond(ax);
	O = false;
	C = false;
	if (Test(NE,Z))
	{
		es_bx = ss->*((word16) bp - 4);
		SCZO = cond(es->*((word16) bx + 48) - 0x00);
		if (Test(EQ,Z))
		{
			es_bx = ss->*((word16) bp - 8);
			SCZO = cond(es->*((word16) bx + 4) - 0x00);
			if (Test(EQ,Z))
			{
				es_bx = ss->*((word16) bp - 4);
				ax = ss->*((word16) bp + 6);
				es->*((word16) bx + 48) = ax;
				es_bx = ss->*((word16) bp - 8);
				ax = ss->*((word16) bp + 8);
				es->*((word16) bx + 4) = ax;
				es_bx = ss->*((word16) bp - 4);
				v19 = es->*((word16) bx + 32);
				sp -= 2;
				ss->*sp = v19;
				v20 = es->*((word16) bx + 36);
				sp -= 2;
				ss->*sp = v20;
				v21 = es->*((word16) bx + 52);
				sp -= 2;
				ss->*sp = v21;
				v22 = ss->*((word16) bp + 6);
				sp -= 2;
				ss->*sp = v22;
				fn2D1A_07BA();
				sp = (word16) sp + 8;
				es_bx = ss->*((word16) bp - 8);
				v23 = es->*bx & ~0x04;
				es->*bx = v23;
				SZ = cond(es->*bx);
				O = false;
				C = false;
				si = ss->*sp;
				sp = bp;
				bp = ss->*sp;
				sp = (word16) sp + 2;
				return;
			}
		}
	}
	ax.u0 = 0x06;
	sp -= 2;
	ss->*sp = ax;
	fn20B2_0176();
	sp = (word16) sp + 2;
	SCZO = cond(sp);
	si = ss->*sp;
	sp = bp;
	bp = ss->*sp;
	sp = (word16) sp + 2;
}

// 2D1A:0890: define fn2D1A_0890
// Called from:
//      fn2D1A_0B04
define fn2D1A_0890
{
	sp = fp;
	Top = 0;
	sp -= 2;
	ss->*sp = bp;
	bp = sp;
	sp -= 0x08;
	sp -= 2;
	ss->*sp = si;
	bx = ss->*((word16) bp + 6);
	bx <<= 0x01;
	bx <<= 0x01;
	es_si = ds->t147A;
	ax = Mem0[es:bx + si:word16];
	dx = es->*((word16) si + ((word16) bx + 2));
	ss->*((word16) bp - 8) = ax;
	ss->*((word16) bp - 6) = dx;
	bx = ss->*((word16) bp + 8);
	bx <<= 0x01;
	bx <<= 0x01;
	es_si = ds->t130A;
	ax = Mem0[es:bx + si:word16];
	dx = es->*((word16) si + ((word16) bx + 2));
	ss->*((word16) bp - 4) = ax;
	ss->*((word16) bp - 2) = dx;
	es_bx = ss->*((word16) bp - 4);
	ax = ss->*((word16) bp + 6);
	SCZO = cond(es->*((word16) bx + 48) - ax);
	if (Test(EQ,Z))
	{
		es_bx = ss->*((word16) bp - 8);
		ax = ss->*((word16) bp + 8);
		SCZO = cond(es->*((word16) bx + 4) - ax);
		if (Test(EQ,Z))
		{
			es_bx = ss->*((word16) bp - 4);
			es->*((word16) bx + 48) = 0x00;
			es_bx = ss->*((word16) bp - 8);
			es->*((word16) bx + 4) = 0x00;
			v16 = es->*bx | 0x04;
			es->*bx = v16;
			SZ = cond(es->*bx);
			O = false;
			C = false;
			si = ss->*sp;
			sp = bp;
			bp = ss->*sp;
			sp = (word16) sp + 2;
			return;
		}
	}
	ax.u0 = 0x07;
	sp -= 2;
	ss->*sp = ax;
	fn20B2_0176();
	sp = (word16) sp + 2;
	SCZO = cond(sp);
	si = ss->*sp;
	sp = bp;
	bp = ss->*sp;
	sp = (word16) sp + 2;
}

// 2D1A:090C: define fn2D1A_090C
// Called from:
//      fn2D1A_0D38
//      fn2D1A_0ECE
//      fn2D1A_0F2A
//      fn2D1A_0FA6
define fn2D1A_090C
{
	sp = fp;
	Top = 0;
	sp -= 2;
	ss->*sp = bp;
	bp = sp;
	sp -= 0x06;
	sp -= 2;
	ss->*sp = si;
	bx = ss->*((word16) bp + 6);
	bx <<= 0x01;
	bx <<= 0x01;
	es_si = ds->t130A;
	ax = Mem0[es:bx + si:word16];
	dx = es->*((word16) si + ((word16) bx + 2));
	ss->*((word16) bp - 6) = ax;
	ss->*((word16) bp - 4) = dx;
	(ss->*((word16) bp - 2)).u0 = 0x00;
	ax |= dx;
	SZ = cond(ax);
	O = false;
	C = false;
	if (Test(NE,Z))
	{
		es_bx = ss->*((word16) bp - 6);
		SCZO = cond(es->*((word16) bx + 58) - 0x00);
		if (Test(NE,Z))
			goto l2D1A_09A5;
		SCZO = cond(es->*((word16) bx + 48) - 0x00);
		if (Test(NE,Z))
		{
			v19 = es->*((word16) bx + 48);
			sp -= 2;
			ss->*sp = v19;
			fn2D1A_0B04();
			sp = (word16) sp + 2;
			SCZO = cond(sp);
		}
		v20 = ss->*((word16) bp + 0x0A);
		sp -= 2;
		ss->*sp = v20;
		fn2D1A_0A76();
		sp = (word16) sp + 2;
		ss->*((word16) bp - 2) = ax;
		ax |= ax;
		SZ = cond(ax);
		O = false;
		C = false;
		if (Test(NE,Z))
		{
			v21 = ss->*((word16) bp + 6);
			sp -= 2;
			ss->*sp = v21;
			sp -= 2;
			ss->*sp = ax;
			fn2D1A_07F6();
			sp = (word16) sp + 4;
			SCZO = cond(sp);
			v22 = ss->*((word16) bp + 8);
			sp -= 2;
			ss->*sp = v22;
			v23 = ss->*((word16) bp - 2);
			sp -= 2;
			ss->*sp = v23;
			fn2D1A_0BD2();
			sp = (word16) sp + 4;
			SCZO = cond(sp);
			v24 = ss->*((word16) bp - 2);
			sp -= 2;
			ss->*sp = v24;
			fn2D1A_0744();
			sp = (word16) sp + 2;
			dx -= dx;
			es_bx = ss->*((word16) bp - 6);
			SCZO = cond(dx - es->*((word16) bx + 0x0022));
			if (Test(GT,SZO))
				goto l2D1A_09A5;
			if (Test(LT,SO))
			{
l2D1A_0996:
				v27 = ss->*((word16) bp - 2);
				sp -= 2;
				ss->*sp = v27;
				fn2D1A_0B04();
				sp = (word16) sp + 2;
				SCZO = cond(sp);
				(ss->*((word16) bp - 2)).u0 = 0x00;
				goto l2D1A_09A5;
			}
			SCZO = cond(ax - es->*((word16) bx + 32));
			if (Test(ULT,C))
				goto l2D1A_0996;
		}
	}
l2D1A_09A5:
	ax = ss->*((word16) bp - 2);
	si = ss->*sp;
	sp = bp;
	bp = ss->*sp;
	sp = (word16) sp + 2;
}

// 2D1A:0A76: define fn2D1A_0A76
// Called from:
//      fn2D1A_090C
define fn2D1A_0A76
{
	sp = fp;
	Top = 0;
	sp -= 2;
	ss->*sp = bp;
	bp = sp;
	sp -= 0x06;
	SCZO = cond(sp);
	sp -= 2;
	ss->*sp = si;
	(ss->*((word16) bp - 6)).u0 = 0x01;
	do
	{
		bx = ss->*((word16) bp - 6);
		bx <<= 0x01;
		bx <<= 0x01;
		es_si = ds->t147A;
		ax = Mem0[es:bx + si:word16];
		ax |= es->*((word16) si + ((word16) bx + 2));
		SZ = cond(ax);
		O = false;
		C = false;
		if (Test(EQ,Z))
			break;
		v17 = (word32) (ss->*((word16) bp - 6)) + 1;
		ss->*((word16) bp - 6) = v17;
		SCZO = cond(ss->*((word16) bp - 6) - 0x80);
	} while (Test(ULT,C));
	SCZO = cond(ss->*((word16) bp - 6) - 0x80);
	if (Test(ULT,C))
	{
		ax.u0 = 0x22;
		sp -= 2;
		ss->*sp = ax;
		fn21DC_097E();
		sp = (word16) sp + 2;
		ss->*((word16) bp - 4) = ax;
		ss->*((word16) bp - 2) = dx;
		bx = ss->*((word16) bp - 6);
		bx <<= 0x01;
		bx <<= 0x01;
		es_si = ds->t147A;
		Mem0[es:bx + si:word16] = ax;
		es->*((word16) si + ((word16) bx + 2)) = dx;
		ax.u0 = 0x22;
		sp -= 2;
		ss->*sp = ax;
		ax -= ax;
		SCZO = cond(ax);
		sp -= 2;
		ss->*sp = ax;
		sp -= 2;
		ss->*sp = dx;
		v20 = ss->*((word16) bp - 4);
		sp -= 2;
		ss->*sp = v20;
		fn2017_0228();
		sp = (word16) sp + 8;
		SCZO = cond(sp);
		es_bx = ss->*((word16) bp - 4);
		ax = ss->*((word16) bp + 6);
		es->*bx = ax;
	}
	else
	{
		ax.u0 = 0x08;
		sp -= 2;
		ss->*sp = ax;
		fn20B2_0176();
		sp = (word16) sp + 2;
		SCZO = cond(sp);
		(ss->*((word16) bp - 6)).u0 = 0x00;
	}
	ax = ss->*((word16) bp - 6);
	si = ss->*sp;
	sp = bp;
	bp = ss->*sp;
	sp = (word16) sp + 2;
}

// 2D1A:0B04: define fn2D1A_0B04
// Called from:
//      fn2644_45CA
//      fn2644_4B2E
//      fn2D1A_090C
//      fn2D1A_0F2A
//      fn2D1A_0FA6
define fn2D1A_0B04
{
	sp = fp;
	Top = 0;
	sp -= 2;
	ss->*sp = bp;
	bp = sp;
	sp -= 0x04;
	sp -= 2;
	ss->*sp = si;
	bx = ss->*((word16) bp + 6);
	bx <<= 0x01;
	bx <<= 0x01;
	es_si = Mem0[ds:5242:segptr32];
	ax = Mem0[es:bx + si:word16];
	dx = Mem0[es:bx + 2 + si:word16];
	ss->*((word16) bp - 4) = ax;
	ss->*((word16) bp - 2) = dx;
	ax |= dx;
	SZ = cond(ax);
	O = false;
	C = false;
	if (Test(NE,Z))
	{
		es_bx = ss->*((word16) bp - 4);
		SZP = cond(es->*bx & 0x10);
		O = false;
		C = false;
		if (Test(NE,Z))
		{
			ax -= ax;
			SCZO = cond(ax);
			sp -= 2;
			ss->*sp = ax;
			ax.u0 = 24266;
			sp -= 2;
			ss->*sp = ds;
			sp -= 2;
			ss->*sp = ax;
			v20 = ss->*((word16) bp + 6);
			sp -= 2;
			ss->*sp = v20;
			fn2D1A_064E();
			sp = (word16) sp + 8;
			SCZO = cond(sp);
		}
		else
		{
			v23 = ss->*((word16) bp + 6);
			sp -= 2;
			ss->*sp = v23;
			fn2D1A_003C();
			sp = (word16) sp + 2;
			SCZO = cond(sp);
		}
		es_bx = ss->*((word16) bp - 4);
		SCZO = cond(es->*((word16) bx + 4) - 0x00);
		if (Test(NE,Z))
		{
			v21 = es->*((word16) bx + 4);
			sp -= 2;
			ss->*sp = v21;
			v22 = ss->*((word16) bp + 6);
			sp -= 2;
			ss->*sp = v22;
			fn2D1A_0890();
			sp = (word16) sp + 4;
			SCZO = cond(sp);
		}
		es_bx = ss->*((word16) bp - 4);
		SCZO = cond(es->*((word16) bx + 0x0A) - 0x00);
		if (Test(NE,Z))
		{
			v24 = es->*((word16) bx + 0x0A);
			sp -= 2;
			ss->*sp = v24;
			fn2C27_03B4();
			sp = (word16) sp + 2;
			SCZO = cond(sp);
			es_bx = ss->*((word16) bp - 4);
			(es->*((word16) bx + 0x0A)).u0 = 0x00;
		}
		else
		{
			SCZO = cond(es->*((word16) bx + 16) - 0x00);
			if (Test(NE,Z))
			{
				v25 = es->*((word16) bx + 16);
				sp -= 2;
				ss->*sp = v25;
				v26 = es->*((word16) bx + 0x0E);
				sp -= 2;
				ss->*sp = v26;
				v27 = es->*((word16) bx + 0x0C);
				sp -= 2;
				ss->*sp = v27;
				fn21DC_09B4();
				sp = (word16) sp + 6;
				SCZO = cond(sp);
			}
		}
		ax.u0 = 0x22;
		sp -= 2;
		ss->*sp = ax;
		v28 = ss->*((word16) bp - 2);
		sp -= 2;
		ss->*sp = v28;
		v29 = ss->*((word16) bp - 4);
		sp -= 2;
		ss->*sp = v29;
		fn21DC_09B4();
		sp = (word16) sp + 6;
		bx = ss->*((word16) bp + 6);
		bx <<= 0x01;
		bx <<= 0x01;
		es_si = Mem0[ds:5242:segptr32];
		ax -= ax;
		SCZO = cond(ax);
		es->*((word16) si + ((word16) bx + 2)) = ax;
		Mem0[es:bx + si:word16] = ax;
	}
	si = ss->*sp;
	sp = bp;
	bp = ss->*sp;
	sp = (word16) sp + 2;
}

// 2D1A:0BD2: define fn2D1A_0BD2
// Called from:
//      fn2D1A_090C
define fn2D1A_0BD2
{
	sp = fp;
	Top = 0;
	sp -= 2;
	ss->*sp = bp;
	bp = sp;
	sp -= 0x0A;
	sp -= 2;
	ss->*sp = si;
	bx = ss->*((word16) bp + 6);
	bx <<= 0x01;
	bx <<= 0x01;
	es_si = ds->t147A;
	ax = Mem0[es:bx + si:word16];
	dx = es->*((word16) si + ((word16) bx + 2));
	ss->*((word16) bp - 6) = ax;
	ss->*((word16) bp - 4) = dx;
	SCZO = cond(ss->*((word16) bp + 8) - 0x00);
	if (Test(EQ,Z))
	{
		fn2068_00A8();
		es_bx = ss->*((word16) bp - 6);
		SZP = cond(es->*bx & 0x02);
		O = false;
		C.u0 = false;
		if (Test(EQ,Z))
		{
			ax.u0 = 0x04;
			sp -= 2;
			ss->*sp = ax;
			fn2C27_01F0();
			sp = (word16) sp + 2;
			ss->*((word16) bp - 2) = ax;
			SCZO = cond(ds->w13B4 - 0x00);
			if (Test(NE,Z))
				ax.u0 = 0x20;
			else
				ax.u0 = 0x10;
			ss->*((word16) bp - 0x0A) = ax;
			fn2E37_02A0();
			SCZO = cond(ax - ss->*((word16) bp - 0x0A));
			if (Test(UGT,CZ))
			{
				fn2E37_02A0();
				ax -= ss->*((word16) bp - 0x0A);
				v22 = Mem0[ss:bp + -2:word16] + ax;
				ss->*((word16) bp - 2) = v22;
				SCZO = cond(v22);
			}
			ax = ss->*((word16) bp - 2);
			ax -= 0x3F;
			SCZO = cond(ax);
			cx = cx - cx - C;
			ax &= cx;
			ax = (word16) ax.u0 + 63;
			SCZO = cond(ax);
			ss->*((word16) bp - 2) = ax;
			ss->*((word16) bp + 8) = ax;
		}
		(ss->*((word16) bp - 8)).u0 = 0x06;
		do
		{
			si = ss->*((word16) bp - 8);
			si <<= 0x01;
			SCZO = cond(ds->*((word16) si + 4270) - 0x00);
			if (Test(NE,Z))
			{
				ax = ss->*((word16) bp + 8);
				SCZO = cond(ds->*((word16) si + 4284) - ax);
				if (Test(UGE,C))
					break;
			}
			v27 = ss->*((word16) bp - 8) - 0x01;
			ss->*((word16) bp - 8) = v27;
			SZO = cond(v27);
		} while (Test(NE,Z));
		si = ss->*((word16) bp - 8);
		si <<= 0x01;
		ax = ss->*((word16) bp + 8);
		SCZO = cond(ds->*((word16) si + 4284) - ax);
		if (Test(UGE,C))
		{
			ax = ds->*((word16) si + 4284);
			ss->*((word16) bp + 8) = ax;
			es_bx = ss->*((word16) bp - 6);
			v28 = es->*bx | 0x02;
			es->*bx = v28;
			SZ = cond(es->*bx);
			C.u0 = false;
			v29 = ds->*((word16) si + 4270) - 0x01;
			ds->*((word16) si + 4270) = v29;
			SZO = cond(v29);
		}
		ax = ss->*((word16) bp + 8);
		ax -= 0x3F;
		SCZO = cond(ax);
		cx = cx - cx - C;
		ax &= cx;
		ax = (word16) ax.u0 + 63;
		SCZO = cond(ax);
		ss->*((word16) bp + 8) = ax;
	}
	es_bx = ss->*((word16) bp - 6);
	ax = ss->*((word16) bp + 8);
	cl = 0x0A;
	ax <<= cl;
	es->*((word16) bx + 16) = ax;
	SZP = cond(es->*bx & 0x02);
	O = false;
	C.u0 = false;
	if (Test(NE,Z))
	{
		sp -= 2;
		ss->*sp = ax;
		fn21DC_097E();
		sp = (word16) sp + 2;
		es_bx = ss->*((word16) bp - 6);
		es->*((word16) bx + 0x0C) = ax;
		es->*((word16) bx + 0x0E) = dx;
		ax |= dx;
		SZ = cond(ax);
		O = false;
		C.u0 = false;
		goto l2D1A_0D17;
	}
	fn2E37_02A0();
	SCZO = cond(ax - 0x10);
	if (Test(LE,SZO))
	{
l2D1A_0D03:
		v26 = ss->*((word16) bp + 8);
		sp -= 2;
		ss->*sp = v26;
		fn2C27_0292();
		sp = (word16) sp + 2;
		es_bx = ss->*((word16) bp - 6);
		es->*((word16) bx + 0x0A) = ax;
		ax |= ax;
		SZ = cond(ax);
		O = false;
		C.u0 = false;
l2D1A_0D17:
		if (Test(EQ,Z))
			(es->*((word16) bx + 16)).u0 = 0x00;
		SCZO = cond(es->*((word16) bx + 16) - 0x00);
		if (Test(EQ,Z))
		{
			ax.u0 = 0x09;
			sp -= 2;
			ss->*sp = ax;
			fn20B2_0176();
			sp = (word16) sp + 2;
			SCZO = cond(sp);
		}
		si = ss->*sp;
		sp = bp;
		bp = ss->*sp;
		sp = (word16) sp + 2;
		return;
	}
	SCZO = cond(ds->w13B4 - 0x00);
	if (Test(NE,Z))
	{
		SCZO = cond(ss->*((word16) bp + 8) - 0x20);
		if (Test(UGT,CZ))
		{
			fn2E37_02A0();
			ax -= ss->*((word16) bp + 8);
			al &= 0xF0;
			SZ = cond(al);
			O = false;
			C.u0 = false;
l2D1A_0CFA:
			sp -= 2;
			ss->*sp = ax;
			fn2E37_04AE();
			sp = (word16) sp + 2;
			SCZO = cond(sp);
			goto l2D1A_0D03;
		}
	}
	fn2E37_02A0();
	ax -= ss->*((word16) bp + 8);
	SCZO = cond(ax);
	goto l2D1A_0CFA;
}

// 2D1A:0D38: define fn2D1A_0D38
// Called from:
//      fn2D1A_0FA6
define fn2D1A_0D38
{
	sp = fp;
	Top = 0;
	sp -= 2;
	ss->*sp = bp;
	bp = sp;
	sp -= 0x0E;
	SCZO = cond(sp);
	sp -= 2;
	ss->*sp = di;
	sp -= 2;
	ss->*sp = si;
	fn2068_00A8();
	(ss->*((word16) bp - 4)).u0 = 0x00;
	(ss->*((word16) bp - 8)).u0 = 0x00;
	(ss->*((word16) bp - 6)).u0 = 0x00;
	(ss->*((word16) bp - 0x0A)).u0 = 0x00;
	ax.u0 = 0x04;
	sp -= 2;
	ss->*sp = ax;
	fn2C27_01F0();
	sp = (word16) sp + 2;
	ss->*((word16) bp - 2) = ax;
	SCZO = cond(ds->w13B4 - 0x00);
	if (Test(NE,Z))
		ax.u0 = 0x20;
	else
		ax.u0 = 0x10;
	ss->*((word16) bp - 0x0E) = ax;
	fn2E37_02A0();
	SCZO = cond(ax - ss->*((word16) bp - 0x0E));
	if (Test(UGT,CZ))
	{
		fn2E37_02A0();
		ax -= ss->*((word16) bp - 0x0E);
		v13 = Mem0[ss:bp + -2:word16] + ax;
		ss->*((word16) bp - 2) = v13;
		SCZO = cond(v13);
	}
	SCZO = cond(ds->w13B4 - 0x00);
	if (Test(NE,Z))
	{
		ax = ss->*((word16) bp - 2);
		ax -= 0x40;
		SCZO = cond(ax);
		cx = cx - cx - C;
		ax &= cx;
		ax = (word16) ax.u0 + 64;
		SCZO = cond(ax);
		ss->*((word16) bp - 2) = ax;
	}
	ax = ss->*((word16) bp - 2);
	ax >>= 0x01;
	SCZO = cond(ax);
	ss->*((word16) bp - 4) = ax;
	ss->*((word16) bp - 8) = ax;
	(ss->*((word16) bp - 0x0C)).u0 = 0x06;
	do
	{
		si = ss->*((word16) bp - 0x0C);
		si <<= 0x01;
		SCZO = cond(ds->*((word16) si + 4270) - 0x00);
		if (Test(NE,Z))
		{
			ax = ss->*((word16) bp - 4);
			SCZO = cond(ds->*((word16) si + 4284) - ax);
			if (Test(UGE,C))
				break;
		}
		v18 = ss->*((word16) bp - 0x0C) - 0x01;
		ss->*((word16) bp - 0x0C) = v18;
		SZO = cond(v18);
	} while (Test(NE,Z));
	si = ss->*((word16) bp - 0x0C);
	si <<= 0x01;
	ax = ss->*((word16) bp - 4);
	SCZO = cond(ds->*((word16) si + 4284) - ax);
	if (Test(UGE,C))
	{
		v20 = Mem0[ss:bp + -8:word16] + ax;
		ss->*((word16) bp - 8) = v20;
		SCZO = cond(v20);
		ax = ds->*((word16) si + 4284);
		ss->*((word16) bp - 4) = ax;
		(ss->*((word16) bp - 6)).u0 = 0x02;
		v21 = ds->*((word16) si + 4270) - 0x01;
		ds->*((word16) si + 4270) = v21;
		SZO = cond(v21);
	}
	(ss->*((word16) bp - 0x0C)).u0 = 0x06;
	do
	{
		si = ss->*((word16) bp - 0x0C);
		si <<= 0x01;
		SCZO = cond(ds->*((word16) si + 4270) - 0x00);
		if (Test(NE,Z))
		{
			ax = ss->*((word16) bp - 8);
			SCZO = cond(ds->*((word16) si + 4284) - ax);
			if (Test(UGE,C))
				break;
		}
		v22 = ss->*((word16) bp - 0x0C) - 0x01;
		ss->*((word16) bp - 0x0C) = v22;
		SZO = cond(v22);
	} while (Test(NE,Z));
	si = ss->*((word16) bp - 0x0C);
	si <<= 0x01;
	ax = ss->*((word16) bp - 8);
	SCZO = cond(ds->*((word16) si + 4284) - ax);
	if (Test(UGE,C))
	{
		ax = ds->*((word16) si + 4284);
		ss->*((word16) bp - 8) = ax;
		(ss->*((word16) bp - 0x0A)).u0 = 0x02;
		v23 = ds->*((word16) si + 4270) - 0x01;
		ds->*((word16) si + 4270) = v23;
		SZO = cond(v23);
	}
	ax = ss->*((word16) bp - 4);
	ax -= 0x3F;
	SCZO = cond(ax);
	cx = cx - cx - C;
	ax &= cx;
	ax = (word16) ax + 63;
	ss->*((word16) bp - 4) = ax;
	ax = ss->*((word16) bp - 8);
	ax -= 0x3F;
	SCZO = cond(ax);
	cx = cx - cx - C;
	ax &= cx;
	ax = (word16) ax + 63;
	ss->*((word16) bp - 8) = ax;
	bx = ss->*((word16) bp + 6);
	bx <<= 0x01;
	bx <<= 0x01;
	es_si = ds->t130A;
	es_bx = Mem0[ds:bx + 0x00 + si:segptr32];
	SCZO = cond(es->*((word16) bx + 98) - 0x00);
	if (Test(NE,Z))
	{
		v28 = ss->*((word16) bp - 6) | 0x01;
		ss->*((word16) bp - 6) = v28;
		SZ = cond(ss->*((word16) bp - 6));
		O = false;
		C.u0 = false;
	}
	bx = ss->*((word16) bp + 6);
	bx <<= 0x01;
	bx <<= 0x01;
	es_di = ds->t130A;
	es_bx = Mem0[ds:bx + 0x00 + di:segptr32];
	si = es->*((word16) bx + 50);
	SCZO = cond(si - 0x01);
	if (Test(NE,Z))
	{
		SCZO = cond(si - 0x02);
		if (Test(NE,Z))
		{
l2D1A_0E87:
			bx = ss->*((word16) bp + 8);
			bx <<= 0x01;
			bx <<= 0x01;
			es_di = ds->t130A;
			es_bx = Mem0[ds:bx + 0x00 + di:segptr32];
			si = es->*((word16) bx + 50);
			SCZO = cond(si - 0x01);
			if (Test(NE,Z))
			{
				SCZO = cond(si - 0x02);
				if (Test(NE,Z))
				{
l2D1A_0EA7:
					v32 = ss->*((word16) bp - 6);
					sp -= 2;
					ss->*sp = v32;
					v33 = ss->*((word16) bp - 4);
					sp -= 2;
					ss->*sp = v33;
					v34 = ss->*((word16) bp + 6);
					sp -= 2;
					ss->*sp = v34;
					fn2D1A_090C();
					sp = (word16) sp + 6;
					SCZO = cond(sp);
					v35 = ss->*((word16) bp - 0x0A);
					sp -= 2;
					ss->*sp = v35;
					v36 = ss->*((word16) bp - 8);
					sp -= 2;
					ss->*sp = v36;
					v37 = ss->*((word16) bp + 8);
					sp -= 2;
					ss->*sp = v37;
					fn2D1A_090C();
					sp = (word16) sp + 6;
					SCZO = cond(sp);
					si = ss->*sp;
					sp = (word16) sp + 2;
					di = ss->*sp;
					sp = bp;
					bp = ss->*sp;
					sp = (word16) sp + 2;
					return;
				}
			}
			v31 = ss->*((word16) bp - 0x0A) | 0x10;
			ss->*((word16) bp - 0x0A) = v31;
			SZ = cond(ss->*((word16) bp - 0x0A));
			O = false;
			C.u0 = false;
			goto l2D1A_0EA7;
		}
	}
	v30 = ss->*((word16) bp - 6) | 0x10;
	ss->*((word16) bp - 6) = v30;
	SZ = cond(ss->*((word16) bp - 6));
	O = false;
	C.u0 = false;
	goto l2D1A_0E87;
}

// 2D1A:0ECE: define fn2D1A_0ECE
// Called from:
//      fn2D1A_0FA6
define fn2D1A_0ECE
{
	sp = fp;
	Top = 0;
	sp -= 2;
	ss->*sp = bp;
	bp = sp;
	sp -= 0x02;
	sp -= 2;
	ss->*sp = di;
	sp -= 2;
	ss->*sp = si;
	(ss->*((word16) bp - 2)).u0 = 0x00;
	bx = ss->*((word16) bp + 6);
	bx <<= 0x01;
	bx <<= 0x01;
	es_si = ds->t130A;
	es_bx = Mem0[ds:bx + 0x00 + si:segptr32];
	SCZO = cond(es->*((word16) bx + 98) - 0x00);
	if (Test(NE,Z))
	{
		v15 = ss->*((word16) bp - 2) | 0x03;
		ss->*((word16) bp - 2) = v15;
		SZ = cond(ss->*((word16) bp - 2));
		O = false;
		C = false;
	}
	bx = ss->*((word16) bp + 6);
	bx <<= 0x01;
	bx <<= 0x01;
	es_di = ds->t130A;
	es_bx = Mem0[ds:bx + 0x00 + di:segptr32];
	si = es->*((word16) bx + 50);
	SCZO = cond(si - 0x01);
	if (Test(NE,Z))
	{
		SCZO = cond(si - 0x02);
		if (Test(NE,Z))
		{
l2D1A_0F14:
			v21 = ss->*((word16) bp - 2);
			sp -= 2;
			ss->*sp = v21;
			ax -= ax;
			SCZO = cond(ax);
			sp -= 2;
			ss->*sp = ax;
			v23 = ss->*((word16) bp + 6);
			sp -= 2;
			ss->*sp = v23;
			fn2D1A_090C();
			sp = (word16) sp + 6;
			SCZO = cond(sp);
			si = ss->*sp;
			sp = (word16) sp + 2;
			di = ss->*sp;
			sp = bp;
			bp = ss->*sp;
			sp = (word16) sp + 2;
			return;
		}
	}
	v20 = ss->*((word16) bp - 2) | 0x10;
	ss->*((word16) bp - 2) = v20;
	SZ = cond(ss->*((word16) bp - 2));
	O = false;
	C = false;
	goto l2D1A_0F14;
}

// 2D1A:0F2A: define fn2D1A_0F2A
// Called from:
//      fn2D1A_0FA6
define fn2D1A_0F2A
{
	sp = fp;
	Top = 0;
	sp -= 2;
	ss->*sp = bp;
	bp = sp;
	sp -= 0x04;
	sp -= 2;
	ss->*sp = si;
	bx = ss->*((word16) bp + 6);
	bx <<= 0x01;
	bx <<= 0x01;
	es_si = ds->t130A;
	ax = Mem0[es:bx + si:word16];
	dx = es->*((word16) si + ((word16) bx + 2));
	ss->*((word16) bp - 4) = ax;
	ss->*((word16) bp - 2) = dx;
	ax |= dx;
	SZ = cond(ax);
	O = false;
	C = false;
	if (Test(NE,Z))
	{
		es_bx = ss->*((word16) bp - 4);
		SCZO = cond(es->*((word16) bx + 48) - 0x00);
		if (Test(NE,Z))
		{
			v19 = es->*((word16) bx + 48);
			sp -= 2;
			ss->*sp = v19;
			fn2D1A_0B04();
			sp = (word16) sp + 2;
			SCZO = cond(sp);
		}
		es_bx = ss->*((word16) bp - 4);
		SCZO = cond(es->*((word16) bx + 58) - 0x00);
		if (Test(EQ,Z))
		{
			SCZO = cond(es->*((word16) bx + 98) - 0x00);
			if (Test(NE,Z))
				goto l2D1A_0FA0;
			SCZO = cond(es->*((word16) bx + 0x0022) - 0x00);
			if (Test(LE,SZO))
			{
				if (Test(LT,SO))
				{
l2D1A_0F84:
					fn2068_00A8();
					ax |= ax;
					SZ = cond(ax);
					O = false;
					C = false;
					if (Test(NE,Z))
					{
						ax.u0 = 0x0A;
						sp -= 2;
						ss->*sp = ax;
						ax.u0 = 0x04;
						sp -= 2;
						ss->*sp = ax;
						v22 = ds->t12FC;
						sp -= 2;
						ss->*sp = v22;
						fn2D1A_090C();
						sp = (word16) sp + 6;
						SCZO = cond(sp);
					}
					goto l2D1A_0FA0;
				}
				SCZO = cond(es->*((word16) bx + 32) - 0x1000);
				if (Test(ULT,C))
					goto l2D1A_0F84;
			}
		}
	}
l2D1A_0FA0:
	si = ss->*sp;
	sp = bp;
	bp = ss->*sp;
	sp = (word16) sp + 2;
}

// 2D1A:0FA6: define fn2D1A_0FA6
// Called from:
//      fn2D1A_11C0
define fn2D1A_0FA6
{
	sp = fp;
	Top = 0;
	sp -= 2;
	ss->*sp = bp;
	bp = sp;
	sp -= 0x0A;
	sp -= 2;
	ss->*sp = si;
	SCZO = cond(ss->*((word16) bp + 6) - 0x00);
	if (Test(NE,Z))
	{
		ax = ss->*((word16) bp + 6);
		--ax;
		v23 = ax;
		SCZO = cond(ax - 0x23);
		if (Test(ULE,CZ))
		{
			ax += ax;
			SCZO = cond(ax);
			v22 = bx;
			bx = ax;
			ax = v22;
			switch (v23)
			{
			case 0x00:
			case 0x01:
			case 0x02:
			case 0x10:
				goto l2D1A_112A;
			case 0x03:
			case 0x04:
			case 0x05:
			case 0x11:
				bx = ds->t1300;
				bx <<= 0x01;
				bx <<= 0x01;
				es_si = ds->t130A;
				ax = Mem0[es:bx + si:word16];
				dx = es->*((word16) si + ((word16) bx + 2));
				ss->*((word16) bp - 4) = ax;
				ss->*((word16) bp - 2) = dx;
				es_bx = ss->*((word16) bp - 4);
				SCZO = cond(es->*((word16) bx + 100) - 0x00);
				if (Test(EQ,Z))
				{
l2D1A_112A:
					v26 = ds->t1300;
					sp -= 2;
					ss->*sp = v26;
					v27 = ds->t12FE;
					sp -= 2;
					ss->*sp = v27;
					fn2D1A_0D38();
					sp = (word16) sp + 4;
					SCZO = cond(sp);
				}
				else
				{
					SCZO = cond(es->*((word16) bx + 48) - 0x00);
					if (Test(NE,Z))
					{
						v29 = es->*((word16) bx + 48);
						sp -= 2;
						ss->*sp = v29;
						fn2D1A_0B04();
						sp = (word16) sp + 2;
						SCZO = cond(sp);
					}
					es_bx = ss->*((word16) bp - 4);
					SCZO = cond(es->*((word16) bx + 58) - 0x00);
					if (Test(EQ,Z))
					{
						SCZO = cond(es->*((word16) bx + 0x0022) - 0x00);
						if (Test(GT,SZO))
							goto l2D1A_10BE;
						if (Test(GE,SO))
						{
							SCZO = cond(es->*((word16) bx + 32) - 0x1000);
							if (Test(ULT,C))
								goto l2D1A_10A3;
						}
						else
						{
l2D1A_10A3:
							fn2068_00A8();
							ax |= ax;
							SZ = cond(ax);
							O = false;
							C = false;
							if (Test(NE,Z))
							{
								ax.u0 = 0x02;
								sp -= 2;
								ss->*sp = ax;
								ax -= ax;
								SCZO = cond(ax);
								sp -= 2;
								ss->*sp = ax;
								v33 = ds->t1300;
								sp -= 2;
								ss->*sp = v33;
								fn2D1A_090C();
								sp = (word16) sp + 6;
								SCZO = cond(sp);
							}
						}
					}
l2D1A_10BE:
					bx = ds->t12FE;
					bx <<= 0x01;
					bx <<= 0x01;
					es_si = ds->t130A;
					ax = Mem0[es:bx + si:word16];
					dx = es->*((word16) si + ((word16) bx + 2));
					ss->*((word16) bp - 4) = ax;
					ss->*((word16) bp - 2) = dx;
					es_bx = ss->*((word16) bp - 4);
					SCZO = cond(es->*((word16) bx + 0x0022) - 0x00);
					if (Test(LE,SZO))
					{
						if (Test(GE,SO))
						{
							SCZO = cond(es->*((word16) bx + 32) - 0x1000);
							if (Test(ULT,C))
								goto l2D1A_10F1;
						}
						else
						{
l2D1A_10F1:
							fn2068_00A8();
							ax |= ax;
							SZ = cond(ax);
							O = false;
							C = false;
							if (Test(NE,Z))
							{
								es_bx = ss->*((word16) bp - 4);
								SCZO = cond(es->*((word16) bx + 50) - 0x01);
								if (Test(NE,Z))
								{
									SCZO = cond(es->*((word16) bx + 50) - 0x02);
									if (Test(EQ,Z))
										goto l2D1A_110E;
									ax.u0 = 0x02;
								}
								else
								{
l2D1A_110E:
									ax.u0 = 0x12;
								}
								sp -= 2;
								ss->*sp = ax;
								ax -= ax;
								SCZO = cond(ax);
								sp -= 2;
								ss->*sp = ax;
								v34 = ds->t12FE;
								sp -= 2;
								ss->*sp = v34;
								fn2D1A_090C();
								sp = (word16) sp + 6;
								SCZO = cond(sp);
							}
						}
					}
				}
				break;
			case 0x06:
			case 0x07:
			case 0x08:
			case 0x09:
			case 0x0A:
			case 0x0C:
			case 0x0D:
			case 0x0E:
			case 0x14:
				break;
			case 11:
			case 0x0F:
			case 0x12:
			case 0x13:
				goto l2D1A_1152;
			case 0x15:
				bx = ds->t12FC;
				bx <<= 0x01;
				bx <<= 0x01;
				es_si = ds->t130A;
				es_bx = Mem0[ds:bx + 0x00 + si:segptr32];
				SCZO = cond(es->*((word16) bx + 100) - 0x00);
				if (Test(EQ,Z))
				{
l2D1A_1152:
					v25 = ds->t12FC;
					sp -= 2;
					ss->*sp = v25;
					fn2D1A_0ECE();
					goto l2D1A_1034;
				}
				break;
			case 22:
			case 0x17:
			case 0x18:
			case 0x19:
			case 0x1A:
			case 0x1B:
			case 0x1C:
			case 0x1D:
			case 0x1E:
			case 0x1F:
			case 0x20:
			case 33:
			case 0x22:
			case 0x23:
				v24 = ds->t12FC;
				sp -= 2;
				ss->*sp = v24;
				fn2D1A_0F2A();
				goto l2D1A_1034;
			}
		}
	}
	else
	{
		(ss->*((word16) bp - 0x0A)).u0 = 0x00;
		while (true)
		{
			SCZO = cond(ss->*((word16) bp - 0x0A) - 0x80);
			if (Test(UGE,C))
				break;
			bx = ss->*((word16) bp - 0x0A);
			bx <<= 0x01;
			bx <<= 0x01;
			es_si = ds->t147A;
			ax = Mem0[es:bx + si:word16];
			dx = es->*((word16) si + ((word16) bx + 2));
			ss->*((word16) bp - 8) = ax;
			ss->*((word16) bp - 6) = dx;
			ax |= dx;
			SZ = cond(ax);
			O = false;
			C = false;
			if (Test(NE,Z))
			{
				es_bx = ss->*((word16) bp - 8);
				SZP = cond(es->*bx & 0x08);
				O = false;
				C = false;
				if (Test(EQ,Z))
				{
					SCZO = cond(es->*((word16) bx + 4) - 0x00);
					if (Test(NE,Z))
					{
						v21 = es->*((word16) bx + 4);
						sp -= 2;
						ss->*sp = v21;
						fn2D1A_0F2A();
					}
					else
					{
						v28 = ss->*((word16) bp - 0x0A);
						sp -= 2;
						ss->*sp = v28;
						fn2D1A_0B04();
					}
					sp = (word16) sp + 2;
					SCZO = cond(sp);
				}
			}
			v30 = (word32) (ss->*((word16) bp - 0x0A)) + 1;
			ss->*((word16) bp - 0x0A) = v30;
			SZO = cond(v30);
		}
		ax -= ax;
		SCZO = cond(ax);
		sp -= 2;
		ss->*sp = ax;
		fn2C27_01F0();
		sp = (word16) sp + 2;
		ax |= ax;
		SZ = cond(ax);
		O = false;
		C = false;
		if (Test(NE,Z))
		{
			ax -= ax;
			SCZO = cond(ax);
			sp -= 2;
			ss->*sp = ax;
			fn2C27_01F0();
			sp = (word16) sp + 2;
			SCZO = cond(sp);
			si = ax;
			fn2E37_02A0();
			ax += si;
			SCZO = cond(ax);
			sp -= 2;
			ss->*sp = ax;
			fn2E37_04BE();
l2D1A_1034:
			sp = (word16) sp + 2;
			SCZO = cond(sp);
		}
	}
	ax -= ax;
	SCZO = cond(ax);
	ds->t1482 = ax;
	ds->t1480 = ax;
	si = ss->*sp;
	sp = bp;
	bp = ss->*sp;
	sp = (word16) sp + 2;
}

// 2D1A:11C0: define fn2D1A_11C0
// Called from:
//      fn20B2_1192
define fn2D1A_11C0
{
	sp = fp;
	Top = 0;
	sp -= 2;
	(ss->*sp).ptr0000 = (struct Eq_83785 Eq_83792::*) bp;
	bp = sp;
	ax = ds->ptr1306;
	SCZO = cond((ss->*bp).w0006 - ax);
	if (Test(NE,Z))
	{
		ax -= ax;
		SCZO = cond(ax);
		sp -= 2;
		(ss->*sp).ptr0000 = (struct Eq_83785 Eq_83792::*) ax;
		fn2D1A_0FA6();
		sp = (struct Eq_83785 Eq_83792::*) &sp->ptr0000;
		SCZO = cond(sp);
	}
	bp = (struct Eq_83785 Eq_83792::*) (ss->*sp).ptr0000;
	sp = (struct Eq_83785 Eq_83792::*) &sp->ptr0000;
}

