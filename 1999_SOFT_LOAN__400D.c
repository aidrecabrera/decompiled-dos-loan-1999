// 1999_SOFT_LOAN__400D.c
// Generated by decompiling 1999_SOFT_LOAN_.exe
// using Reko decompiler version 0.11.4.0.

#include "1999_SOFT_LOAN_.h"

// 400D:0006: define fn400D_0006
// Called from:
//      fn38D6_0008
define fn400D_0006
{
	sp = fp;
	Top = 0;
	sp -= 2;
	(ss->*sp).ptr0000 = (struct Eq_134934 Eq_134941::*) bp;
	bp = sp;
	bx = (struct Eq_134934 Eq_134941::* Eq_134941::*) &bp->ptr0000;
	fn3CEE_1008();
	bx = (struct Eq_134934 Eq_134941::* Eq_134941::*) &bp->ptr0000;
	fn3CEE_1008();
	fn3CEE_1472();
	if (Test(UGE,C))
	{
		ax -= ax;
		SCZO = cond(ax);
		bp = (struct Eq_134934 Eq_134941::*) (ss->*sp).ptr0000;
		sp = (struct Eq_134934 Eq_134941::*) &sp->ptr0000;
	}
	else
	{
		ax = 0x01;
		bp = (struct Eq_134934 Eq_134941::*) (ss->*sp).ptr0000;
		sp = (struct Eq_134934 Eq_134941::*) &sp->ptr0000;
	}
}

// 400D:0096: define fn400D_0096
// Called from:
//      fn38D6_0008
define fn400D_0096
{
	sp = fp;
	Top = 0;
	sp -= 2;
	(ss->*sp).ptr0000 = (struct Eq_134974 Eq_134981::*) bp;
	bp = sp;
	bx = (struct Eq_134974 Eq_134981::* Eq_134981::*) &bp->ptr0000;
	fn3CEE_1008();
	bx = (struct Eq_134974 Eq_134981::* Eq_134981::*) &bp->ptr0000;
	fn3CEE_1008();
	fn3CEE_1472();
	if (Test(ULE,CZ))
	{
		ax -= ax;
		SCZO = cond(ax);
		bp = (struct Eq_134974 Eq_134981::*) (ss->*sp).ptr0000;
		sp = (struct Eq_134974 Eq_134981::*) &sp->ptr0000;
	}
	else
	{
		ax = 0x01;
		bp = (struct Eq_134974 Eq_134981::*) (ss->*sp).ptr0000;
		sp = (struct Eq_134974 Eq_134981::*) &sp->ptr0000;
	}
}

// 400D:00DE: define fn400D_00DE
// Called from:
//      fn2EB3_060C
//      fn3431_1624
//      fn38D6_0008
define fn400D_00DE
{
	sp = fp;
	Top = 0;
	sp -= 2;
	(ss->*sp).ptr0000 = (struct Eq_135013 Eq_135020::*) bp;
	bp = sp;
	bx = &Eq_135020::t603C;
	fn3CEE_1008();
	bx = (struct Eq_135025 Eq_135020::*) &bp->ptr0000;
	fn3CEE_1008();
	fn3CEE_1472();
	ax += 440;
	v9 = (ds->*di).bFFFFFFCB + bl;
	(ds->*di).bFFFFFFCB = v9;
	ax -= ax;
	SCZO = cond(ax);
	bp = (struct Eq_135013 Eq_135020::*) (ss->*sp).ptr0000;
	sp = (struct Eq_135013 Eq_135020::*) &sp->ptr0000;
}

// 3CEE:32E0: define fn3CEE_32E0
// Called from:
//      fn3CEE_8634
define fn3CEE_32E0
{
	sp = fp;
	Top = 0;
	__out<byte>(dx, al);
	SCZO = cond(al - 0x9A);
	if (Test(ULT,C))
		fn3CEE_32F9();
	else
	{
		__out<byte>(dx, al);
		SCZO = cond(al - 115);
		ax += 440;
		v12 = (ds->*di).bFFFFFFCB + bl;
		(ds->*di).bFFFFFFCB = v12;
		ax -= ax;
		SCZO = cond(ax);
		bp = ss->*sp;
		++sp;
	}
}

// 400D:0102: define fn400D_0102
// Called from:
//      fn3431_1624
define fn400D_0102
{
	sp = fp;
	Top = 0;
	sp -= 2;
	(ss->*sp).ptr0000 = (struct Eq_135104 Eq_135111::*) bp;
	bp = sp;
	bx = 0x603C;
	fn3CEE_32F9();
}

// 3CEE:32F9: define fn3CEE_32F9
// Called from:
//      fn3CEE_32E0
//      fn400D_0102
define fn3CEE_32F9
{
	sp = fp;
	Top = 0;
	fn3CEE_1008();
	bx = bp + 6;
	fn3CEE_1008();
	fn3CEE_1472();
	if (Test(NE,Z))
	{
		ax -= ax;
		SCZO = cond(ax);
		bp = ss->*sp;
		++sp;
	}
	else
	{
		ax = 0x01;
		bp = ss->*sp;
		++sp;
	}
}

// 400D:017E: define fn400D_017E
// Called from:
//      fn3431_1624
define fn400D_017E
{
	sp = fp;
	Top = 0;
	sp -= 2;
	(ss->*sp).ptr0000 = (struct Eq_135171 Eq_135178::*) bp;
	bp = sp;
	bx = (struct Eq_135184 Eq_135178::*) &bp->ptr0000;
	fn3CEE_1008();
	fn3CEE_12B7();
	bx = &Eq_135178::t3565;
	dx.u0 = 0x4D8E;
	es = dx;
	fn3CEE_11A9();
	ax = 0x3565;
	dx.u0 = 0x4D8E;
	bp = (struct Eq_135171 Eq_135178::*) (ss->*sp).ptr0000;
	sp = (struct Eq_135171 Eq_135178::*) &sp->ptr0000;
}

