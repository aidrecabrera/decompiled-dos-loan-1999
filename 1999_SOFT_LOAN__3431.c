// 1999_SOFT_LOAN__3431.c
// Generated by decompiling 1999_SOFT_LOAN_.exe
// using Reko decompiler version 0.11.4.0.

#include "1999_SOFT_LOAN_.h"

// 3431:000A: define fn3431_000A
// Called from:
//      fn21DC_0EC2
define fn3431_000A
{
	sp = fp;
	Top = 0;
	sp -= 2;
	ss->*sp = bp;
	bp = sp;
	sp -= 0x0A;
	SCZO = cond(sp);
	Mem0[ds:0x21AC:word16] = 0x22;
	ax.u0 = 0x22;
	sp -= 2;
	ss->*sp = ax;
	fn21DC_097E();
	sp = (word16) sp + 2;
	SCZO = cond(sp);
	Mem0[ds:8616:word16] = ax;
	Mem0[ds:0x21AA:word16] = dx;
	v10 = Mem0[ds:0x21AC:word16];
	sp -= 2;
	ss->*sp = v10;
	sp -= 2;
	ss->*sp = dx;
	sp -= 2;
	ss->*sp = ax;
	fn1F38_0CA2();
	sp = (word16) sp + 6;
	ax = Mem0[ds:0x0EEE:word16];
	ax = (word32) ax.u0 + 1;
	cx = Mem0[ds:0x0EF0:word16];
	++cx;
	dx_ax = cx *32 ax;
	ax = (word16) ax + 16;
	SCZO = cond(ax);
	sp -= 2;
	ss->*sp = ax;
	fn21DC_097E();
	sp = (word16) sp + 2;
	SCZO = cond(sp);
	Mem0[ds:8586:word16] = ax;
	Mem0[ds:8588:word16] = dx;
	ax.u0 = 0x40;
	sp -= 2;
	ss->*sp = ax;
	fn21DC_097E();
	sp = (word16) sp + 2;
	SCZO = cond(sp);
	Mem0[ds:0x218E:word16] = ax;
	Mem0[ds:0x2190:word16] = dx;
	Mem0[ds:0x21B2:word16] = 0x40;
	ax.u0 = 0x40;
	sp -= 2;
	ss->*sp = ax;
	fn21DC_097E();
	sp = (word16) sp + 2;
	SCZO = cond(sp);
	Mem0[ds:8622:word16] = ax;
	Mem0[ds:0x21B0:word16] = dx;
	Mem0[ds:8628:word16] = 0x00;
	Mem0[ds:0x21B6:word16] = 0x00;
	ax.u0 = 0x0A;
	sp -= 2;
	ss->*sp = ax;
	fn21DC_097E();
	sp = (word16) sp + 2;
	Mem0[ds:8646:word16] = ax;
	Mem0[ds:8648:word16] = dx;
	ax.u0 = 0x0A;
	sp -= 2;
	ss->*sp = ax;
	ax -= ax;
	SCZO = cond(ax);
	sp -= 2;
	ss->*sp = ax;
	sp -= 2;
	ss->*sp = dx;
	v14 = Mem0[ds:8646:word16];
	sp -= 2;
	ss->*sp = v14;
	fn2017_0228();
	sp = (word16) sp + 8;
	ax = Mem0[ds:0x0F15:word16];
	cl = 0x03;
	ax <<= cl;
	ax = (word32) ax.u0 + 8;
	SCZO = cond(ax);
	sp -= 2;
	ss->*sp = ax;
	fn21DC_097E();
	sp = (word16) sp + 2;
	SCZO = cond(sp);
	Mem0[ds:8582:word16] = ax;
	Mem0[ds:0x2188:word16] = dx;
	(ss->*((word16) bp - 6)).u0 = 0x00;
	while (true)
	{
		ax = Mem0[ds:0x0F15:word16];
		SCZO = cond(ss->*((word16) bp - 6) - ax);
		if (Test(UGE,C))
			break;
		ax = ss->*((word16) bp - 6);
		cl = 0x03;
		ax <<= cl;
		ax += Mem0[ds:8582:word16];
		dx = Mem0[ds:0x2188:word16];
		ss->*((word16) bp - 0x0A) = ax;
		ss->*((word16) bp - 8) = dx;
		es_bx = ss->*((word16) bp - 0x0A);
		ax -= ax;
		SCZO = cond(ax);
		es->*((word16) bx + 2) = ax;
		es->*bx = ax;
		es->*((word16) bx + 4) = ax;
		es->*((word16) bx + 6) = ax;
		v23 = (word32) (ss->*((word16) bp - 6)) + 1;
		ss->*((word16) bp - 6) = v23;
		SZO = cond(v23);
	}
	ax.u0 = 24338;
	sp -= 2;
	ss->*sp = ds;
	sp -= 2;
	ss->*sp = ax;
	fn2BC7_03C2();
	sp = (word16) sp + 4;
	ss->*((word16) bp - 4) = ax;
	ss->*((word16) bp - 2) = dx;
	es_bx = ss->*((word16) bp - 4);
	ax = es->*((word16) bx + 0x0E);
	ax |= es->*((word16) bx + 16);
	SZ = cond(ax);
	O = false;
	C = false;
	if (Test(NE,Z))
	{
		Mem0[ds:0x20C0:word16] = 0x1C;
		ax = bx;
		Mem0[ds:0x20C2:word16] = ax;
		Mem0[ds:8388:word16] = dx;
	}
	sp = bp;
	bp = ss->*sp;
	sp = (word16) sp + 2;
}

// 3431:013E: define fn3431_013E
// Called from:
//      fn21DC_04BA
define fn3431_013E
{
	sp = fp;
	Top = 0;
	sp -= 2;
	ss->*sp = bp;
	bp = sp;
	sp -= 0x06;
	ax = ds->t21BA;
	ax |= ds->t21BC;
	SZ = cond(ax);
	O = false;
	C = false;
	if (Test(NE,Z))
	{
		SCZO = cond(ds->t21BE - 0x00);
		if (Test(NE,Z))
		{
			v13 = ds->t21BE;
			sp -= 2;
			ss->*sp = v13;
			v14 = ds->t21BC;
			sp -= 2;
			ss->*sp = v14;
			v15 = ds->t21BA;
			sp -= 2;
			ss->*sp = v15;
			fn21DC_0702();
			sp = (word16) sp + 6;
			SCZO = cond(sp);
		}
	}
	SCZO = cond(ds->t21AC - 0x00);
	if (Test(NE,Z))
	{
		v16 = ds->t21AC;
		sp -= 2;
		ss->*sp = v16;
		v17 = ds->t21AA;
		sp -= 2;
		ss->*sp = v17;
		v18 = ds->t21A8;
		sp -= 2;
		ss->*sp = v18;
		fn21DC_09B4();
		sp = (word16) sp + 6;
		SCZO = cond(sp);
	}
	ds->t21AC.u0 = 0x00;
	ax -= ax;
	SCZO = cond(ax);
	sp -= 2;
	ss->*sp = ax;
	sp -= 2;
	ss->*sp = ax;
	sp -= 2;
	ss->*sp = ax;
	fn1F38_0CA2();
	sp = (word16) sp + 6;
	SCZO = cond(ds->t21B2 - 0x00);
	if (Test(NE,Z))
	{
		SCZO = cond(ds->t21B8 - 0x00);
		if (Test(NE,Z))
		{
			v19 = ds->t21B8;
			sp -= 2;
			ss->*sp = v19;
			fn3431_0214();
			sp = (word16) sp + 2;
			SCZO = cond(sp);
		}
		v20 = ds->t21B2;
		sp -= 2;
		ss->*sp = v20;
		v21 = ds->t21B0;
		sp -= 2;
		ss->*sp = v21;
		v22 = ds->t21AE;
		sp -= 2;
		ss->*sp = v22;
		fn21DC_09B4();
		sp = (word16) sp + 6;
		SCZO = cond(sp);
	}
	(ss->*((word16) bp - 2)).u0 = 0x00;
	while (true)
	{
		ax = ds->t0F15;
		SCZO = cond(ss->*((word16) bp - 2) - ax);
		if (Test(UGE,C))
			break;
		ax = ss->*((word16) bp - 2);
		cl = 0x03;
		ax <<= cl;
		ax = (word16) ax.u0 + ds->w2186;
		dx = ds->w2188;
		ss->*((word16) bp - 6) = ax;
		ss->*((word16) bp - 4) = dx;
		es_bx = ss->*((word16) bp - 6);
		ax.u0 = (es->*bx).t0000.u0;
		ax |= (es->*bx).t0002.u0;
		SZ = cond(ax);
		O = false;
		C = false;
		if (Test(NE,Z))
		{
			SCZO = cond((es->*bx).t0004.u0 - 0x00);
			if (Test(NE,Z))
			{
				v28.u0 = (es->*bx).t0004.u0;
				sp -= 2;
				ss->*sp = v28;
				v29.u0 = (es->*bx).t0002.u0;
				sp -= 2;
				ss->*sp = v29;
				v30.u0 = (es->*bx).t0000.u0;
				sp -= 2;
				ss->*sp = v30;
				fn21DC_074E();
				sp = (word16) sp + 6;
				SCZO = cond(sp);
			}
		}
		v31 = (word32) (ss->*((word16) bp - 2)) + 1;
		ss->*((word16) bp - 2) = v31;
		SZO = cond(v31);
	}
	sp = bp;
	bp = ss->*sp;
	sp = (word16) sp + 2;
}

// 3431:0214: define fn3431_0214
// Called from:
//      fn3431_013E
define fn3431_0214
{
	sp = fp;
	Top = 0;
	sp -= 2;
	ss->*sp = bp;
	bp = sp;
	sp -= 0x06;
	SCZO = cond(ds->t21B8 - 0x00);
	if (Test(NE,Z))
	{
		ax = ds->t21B8;
		SCZO = cond(ss->*((word16) bp + 6) - ax);
		if (Test(UGT,CZ))
			ss->*((word16) bp + 6) = ax;
		ss->*((word16) bp - 4) = 0x00;
		(ss->*((word16) bp - 6)).u0 = 0x00;
		do
		{
			ax = ds->t21B4;
			SCZO = cond(ds->t21B6 - ax);
			if (Test(UGT,CZ))
			{
				ax = ds->t21B2;
				goto l3431_0245;
			}
			ax = ds->t21B6;
			SCZO = cond(ds->t21B4 - ax);
			if (Test(UGT,CZ))
			{
				ax = ds->t21B4;
l3431_0245:
				ax -= ds->t21B6;
				SCZO = cond(ax);
			}
			else
				ax = ds->t21B8;
			ss->*((word16) bp - 2) = ax;
			SCZO = cond(ds->w2216 - 0x00);
			if (Test(EQ,Z))
			{
				sp -= 2;
				ss->*sp = ax;
				ax = ds->t21B6;
				ax = (word16) ax + ds->w21AE;
				SCZO = cond(ax);
				dx = ds->t21B0;
				sp -= 2;
				ss->*sp = dx;
				sp -= 2;
				ss->*sp = ax;
				fn1F38_0DAB();
				sp = (word16) sp + 6;
				SCZO = cond(sp);
				ss->*((word16) bp - 2) = ax;
				ax = ds->t10A1;
				ss->*((word16) bp - 6) = ax;
			}
			ax = ss->*((word16) bp - 2);
			v12 = Mem0[ss:bp + -4:word16] + ax;
			ss->*((word16) bp - 4) = v12;
			v13 = ds->t21B8 - ax;
			ds->t21B8 = v13;
			v14 = Mem0[ds:0x21B6:word16] + ax;
			ds->t21B6 = v14;
			ax = ds->t21B2;
			SCZO = cond(ds->t21B6 - ax);
			if (Test(UGE,C))
			{
				v16 = ds->t21B6 - ax;
				ds->t21B6 = v16;
				SCZO = cond(v16);
			}
			SCZO = cond(ss->*((word16) bp - 6) - 0x00);
			if (Test(NE,Z))
			{
				ds->w2216 = 0x01;
				fn20B2_0EF6();
				SCZO = cond(ax - 0x01);
				cx = cx - cx - C;
				cx = -cx;
				ss->*((word16) bp - 6) = cx;
				ds->w2216 = 0x00;
				cx |= cx;
				SZ = cond(cx);
				O = false;
				C.u0 = false;
				if (Test(NE,Z))
				{
					ds->t21B8.u0 = 0x00;
					ds->t21B4.u0 = 0x00;
					ds->t21B6.u0 = 0x00;
				}
			}
			ax = ss->*((word16) bp + 6);
			SCZO = cond(ss->*((word16) bp - 4) - ax);
			if (Test(UGE,C))
				break;
			SCZO = cond(ss->*((word16) bp - 6) - 0x00);
		} while (Test(EQ,Z));
	}
	sp = bp;
	bp = ss->*sp;
	sp = (word16) sp + 2;
}

// 3431:06CC: define fn3431_06CC
// Called from:
//      fn3431_07B6
//      fn3CEE_3BF8
define fn3431_06CC
{
	sp = fp;
	Top = 0;
	sp -= 2;
	ss->*sp = bp;
	bp = sp;
	sp -= 0x0C;
	SCZO = cond(sp);
	ax = ds->t0F1B;
	ss->*((word16) bp - 2) = ax;
	ax = ss->*((word16) bp + 6);
	ds->t0F1B = ax;
	fn1F38_0CDC();
	ss->*((word16) bp - 8) = ax;
	ax |= ax;
	SZ = cond(ax);
	O = false;
	C = false;
	if (Test(EQ,Z))
	{
l3431_07A9:
		ax = ss->*((word16) bp - 2);
		ds->t0F1B = ax;
		ax = ss->*((word16) bp - 8);
		sp = bp;
		bp = ss->*sp;
		sp = (word16) sp + 2;
		return;
	}
	fn1F38_0D06();
	ss->*((word16) bp - 8) = ax;
	v13 = ds->t0F17;
	sp -= 2;
	ss->*sp = v13;
	fn21DC_081A();
	sp = (word16) sp + 2;
	ax |= ax;
	SZ = cond(ax);
	O = false;
	C = false;
	if (Test(EQ,Z))
	{
		SCZO = cond(ss->*((word16) bp - 8) - 0x80);
		if (Test(UGE,C))
		{
			SCZO = cond(ss->*((word16) bp - 8) - 0x87);
			if (Test(ULE,CZ))
			{
				SCZO = cond(ss->*((word16) bp + 8) - 0x00);
				if (Test(EQ,Z))
					goto l3431_07A9;
				v16 = ss->*((word16) bp - 8);
				sp -= 2;
				ss->*sp = v16;
				fn21DC_0006();
l3431_0717:
				sp = (word16) sp + 2;
				SCZO = cond(sp);
				goto l3431_07A4;
			}
		}
		SCZO = cond(ss->*((word16) bp - 8) - 0x88);
		if (Test(ULE,CZ))
			goto l3431_07A9;
		ax = ds->t0F15;
		ax = (word16) ax.u0 + 0x0088;
		SCZO = cond(ss->*((word16) bp - 8) - ax);
		if (Test(UGT,CZ))
			goto l3431_07A9;
		SCZO = cond(ds->t0F1B - 0x08);
		if (Test(EQ,Z))
			goto l3431_07A9;
		ax = ss->*((word16) bp - 8);
		cl = 0x03;
		ax <<= cl;
		ax = (word16) ax + ds->w2186;
		dx = ds->t2188;
		ss->*((word16) bp - 0x0C) = ax;
		ss->*((word16) bp - 0x0A) = dx;
		es_bx = ss->*((word16) bp - 0x0C);
		ax.u0 = (es->*bx).tFFFFFBB8.u0;
		dx.u0 = (es->*bx).tFFFFFBBA.u0;
		ss->*((word16) bp - 6) = ax;
		ss->*((word16) bp - 4) = dx;
		ax |= dx;
		SZ = cond(ax);
		O = false;
		C = false;
		if (Test(NE,Z))
		{
			v22.u0 = (es->*bx).tFFFFFBBE.u0;
			sp -= 2;
			ss->*sp = v22;
			sp -= 2;
			ss->*sp = dx;
			v23 = ss->*((word16) bp - 6);
			sp -= 2;
			ss->*sp = v23;
			fn1F38_0C09();
			sp = (word16) sp + 6;
			SCZO = cond(sp);
		}
		else
		{
			SCZO = cond(ds->t0F1B - 0x05);
			if (Test(EQ,Z))
			{
				(ss->*((word16) bp - 8)).u0 = 0x01;
				goto l3431_07A9;
			}
		}
l3431_07A4:
		(ss->*((word16) bp - 8)).u0 = 0x00;
		goto l3431_07A9;
	}
	else
	{
		SCZO = cond(ss->*((word16) bp + 8) - 0x00);
		if (Test(EQ,Z))
			goto l3431_07A9;
		v14 = ds->t0F17;
		sp -= 2;
		ss->*sp = v14;
		fn21DC_0856();
		goto l3431_0717;
	}
}

// 3431:07B6: define fn3431_07B6
// Called from:
//      fn1825_037E
//      fn1825_06E0
//      fn1825_0E72
//      fn1825_18A6
//      fn1825_2880
//      fn1825_5BD8
//      fn1825_648A
//      fn1825_67EE
//      fn1825_6EA4
//      fn20B2_1014
//      fn21DC_0006
//      fn3CEE_8634
define fn3431_07B6
{
	sp = fp;
	Top = 0;
	sp -= 2;
	(ss->*sp).ptr0000 = (struct Eq_109912 Eq_109919::*) bp;
	bp = sp;
	sp -= 0x02;
	SCZO = cond(sp);
	do
	{
		v7 = (struct Eq_109912 Eq_109919::*) (ss->*bp).ptr0008;
		sp -= 2;
		(ss->*sp).ptr0000 = (struct Eq_109912 Eq_109919::*) v7;
		v8 = (struct Eq_109912 Eq_109919::*) (ss->*bp).ptr0006;
		sp -= 2;
		(ss->*sp).ptr0000 = (struct Eq_109912 Eq_109919::*) v8;
		fn3431_06CC();
		sp = (struct Eq_109912 Eq_109919::*) &sp->ptr0000;
		(ss->*bp).wFFFFFFFE = ax;
		ax |= ax;
		SZ = cond(ax);
		O = false;
		C = false;
	} while (Test(EQ,Z));
	sp = bp;
	bp = (struct Eq_109912 Eq_109919::*) (ss->*sp).ptr0000;
	sp = (struct Eq_109912 Eq_109919::*) &sp->ptr0000;
}

// 3431:0DDE: define fn3431_0DDE
// Called from:
//      fn3431_0E74
//      fn3431_1624
define fn3431_0DDE
{
	sp = fp;
	Top = 0;
	sp -= 2;
	ss->*sp = bp;
	bp = sp;
	al = (byte) (ss->*((word16) bp + 6));
	ah -= ah;
	SCZO = cond(ah);
	sp -= 2;
	ss->*sp = ax;
	fn38AD_001E();
	sp = (word16) sp + 2;
	ss->*((word16) bp + 6) = al;
	ax = Mem0[ds:0x21CA:word16];
	SCZO = cond(ax - 0x02);
	if (Test(NE,Z))
	{
		SCZO = cond(ax - 0x08);
		if (Test(NE,Z))
		{
			SCZO = cond(ax - 0x20);
			if (Test(NE,Z))
			{
				SCZO = cond(ax - 0x80);
				if (Test(NE,Z))
				{
					SCZO = cond(ax - 0x0100);
					if (Test(EQ,Z))
					{
l3431_0E13:
						al = (byte) (ss->*((word16) bp + 6));
						ah -= ah;
						SCZO = cond(ah);
						sp -= 2;
						ss->*sp = ax;
						ax.u0 = 0x08;
						sp -= 2;
						ss->*sp = ax;
						ax.u0 = 0x5F46;
						sp -= 2;
						ss->*sp = ds;
						sp -= 2;
						ss->*sp = ax;
						fn2017_035B();
						sp = (word16) sp + 8;
						SCZO = cond(ax - 0x08);
						if (Test(ULT,C))
							goto l3431_0E70;
						goto l3431_0E6A;
					}
					SCZO = cond(ax - 0x0300);
					if (Test(EQ,Z))
						goto l3431_0E13;
l3431_0E70:
					ax -= ax;
					SCZO = cond(ax);
					bp = ss->*sp;
					sp = (word16) sp + 2;
					return;
				}
				al = (byte) (ss->*((word16) bp + 6));
				ah -= ah;
				SCZO = cond(ah);
				sp -= 2;
				ss->*sp = ax;
				ax.u0 = 0x03;
				sp -= 2;
				ss->*sp = ax;
				ax.u0 = 0x5F56;
				sp -= 2;
				ss->*sp = ds;
				sp -= 2;
				ss->*sp = ax;
				fn2017_035B();
				sp = (word16) sp + 8;
				SCZO = cond(ax - 0x03);
l3431_0E68:
				if (Test(UGE,C))
				{
l3431_0E6A:
					ax.u0 = 0x01;
					bp = ss->*sp;
					sp = (word16) sp + 2;
					return;
				}
				goto l3431_0E70;
			}
		}
	}
	al = (byte) (ss->*((word16) bp + 6));
	ah -= ah;
	SCZO = cond(ah);
	sp -= 2;
	ss->*sp = ax;
	ax.u0 = 0x04;
	sp -= 2;
	ss->*sp = ax;
	ax.u0 = 0x5F50;
	sp -= 2;
	ss->*sp = ds;
	sp -= 2;
	ss->*sp = ax;
	fn2017_035B();
	sp = (word16) sp + 8;
	SCZO = cond(ax - 0x04);
	goto l3431_0E68;
}

// 3431:0E74: define fn3431_0E74
// Called from:
//      fn3431_1624
define fn3431_0E74
{
	sp = fp;
	Top = 0;
	sp -= 2;
	ss->*sp = bp;
	bp = sp;
	sp -= 0x18;
	sp -= 2;
	ss->*sp = si;
	ax = Mem0[ds:0x0EEE:word16];
	ax = (word16) ax + 1;
	cx = Mem0[ds:0x0EF0:word16];
	++cx;
	dx_ax = cx *32 ax;
	ss->*((word16) bp - 2) = ax;
	ax = Mem0[ds:0x21CA:word16];
	ax &= 0x0A;
	ss->*((word16) bp - 4) = ax;
	ax -= ax;
	ss->*((word16) bp - 0x0C) = ax;
	ss->*((word16) bp - 0x0E) = ax;
	ss->*((word16) bp - 6) = 0x20;
	SCZO = cond(Mem0[ds:8688:word16] - ax);
	if (Test(NE,Z))
	{
		SCZO = cond(Mem0[ds:0x21E0:word16] - ax);
		if (Test(EQ,Z))
		{
			ss->*((word16) bp - 20) = ax;
			while (true)
			{
				bx = ss->*((word16) bp - 20);
				es_si = ss->*((word16) bp + 6);
				SCZO = cond(Mem0[es:bx + si:byte] - 0x20);
				if (Test(NE,Z))
					break;
				v47 = (word32) (ss->*((word16) bp - 20)) + 1;
				ss->*((word16) bp - 20) = v47;
				SZO = cond(v47);
			}
			sp -= 2;
			ss->*sp = es;
			sp -= 2;
			ss->*sp = si;
			fn2017_03F5();
			sp = (word16) sp + 4;
			ss->*((word16) bp - 22) = ax;
			si = ax;
			si -= ss->*((word16) bp - 20);
			sp -= 2;
			ss->*sp = si;
			ax = ss->*((word16) bp - 20);
			ax += Mem0[ss:bp + 6:word16];
			SCZO = cond(ax);
			dx = ss->*((word16) bp + 8);
			sp -= 2;
			ss->*sp = dx;
			sp -= 2;
			ss->*sp = ax;
			sp -= 2;
			ss->*sp = dx;
			v22 = ss->*((word16) bp + 6);
			sp -= 2;
			ss->*sp = v22;
			fn2017_0258();
			sp = (word16) sp + 0x0A;
			v23 = ss->*((word16) bp - 20);
			sp -= 2;
			ss->*sp = v23;
			ax.u0 = 0x20;
			sp -= 2;
			ss->*sp = ax;
			ax = ss->*((word16) bp + 6);
			dx = ss->*((word16) bp + 8);
			ax += si;
			SCZO = cond(ax);
			sp -= 2;
			ss->*sp = dx;
			sp -= 2;
			ss->*sp = ax;
			fn2017_0228();
			sp = (word16) sp + 8;
			SCZO = cond(sp);
			(ss->*((word16) bp + 0x0A)).u0 = 0x00;
		}
	}
	while (true)
	{
		ax = ss->*((word16) bp - 2);
		SCZO = cond(ss->*((word16) bp - 0x0E) - ax);
		if (Test(GE,SO))
			break;
		SCZO = cond(Mem0[ds:0x21DE:word16] - 0x00);
		if (Test(NE,Z))
		{
			bx = ss->*((word16) bp - 0x0C);
			es_si = Mem0[ds:8666:segptr32];
			al = Mem0[es:bx + si:byte];
		}
		else
			al = 0x23;
		ss->*((word16) bp - 0x0A) = al;
		SCZO = cond(ss->*((word16) bp + 0x0A) - 0x00);
		if (Test(GE,SO))
		{
			bx = ss->*((word16) bp + 0x0A);
			es_si = ss->*((word16) bp + 6);
			al = Mem0[es:bx + si:byte];
		}
		else
			al = 0x20;
		ss->*((word16) bp - 8) = al;
		SCZO = cond(ss->*((word16) bp - 4) - 0x00);
		if (Test(NE,Z))
		{
			al |= al;
			SZ = cond(al);
			O = false;
			C = false;
			if (Test(EQ,Z))
			{
				SCZO = cond(Mem0[ds:0x21DE:word16] - 0x00);
				if (Test(NE,Z))
				{
					SCZO = cond(ss->*((word16) bp - 0x0A) - 0x00);
					if (Test(NE,Z))
					{
						while (true)
						{
							SCZO = cond(ss->*((word16) bp - 0x0A) - 0x00);
							if (Test(EQ,Z))
								break;
							bx = ss->*((word16) bp - 0x0E);
							v28 = (word32) (ss->*((word16) bp - 0x0E)) + 1;
							ss->*((word16) bp - 0x0E) = v28;
							es_si = Mem0[ds:8586:segptr32];
							al = (byte) (ss->*((word16) bp - 0x0A));
							Mem0[es:bx + si:byte] = al;
							v29 = (word32) (ss->*((word16) bp - 0x0C)) + 1;
							ss->*((word16) bp - 0x0C) = v29;
							SZO = cond(v29);
							bx = ss->*((word16) bp - 0x0C);
							es_si = Mem0[ds:8666:segptr32];
							al = Mem0[es:bx + si:byte];
							ss->*((word16) bp - 0x0A) = al;
						}
						break;
					}
				}
			}
		}
		SCZO = cond(ss->*((word16) bp - 8) - 0x00);
		if (Test(EQ,Z))
			break;
		SCZO = cond(ss->*((word16) bp - 0x0A) - 0x00);
		if (Test(EQ,Z))
			break;
		al = (byte) (ss->*((word16) bp - 0x0A));
		ah -= ah;
		SCZO = cond(ah);
		sp -= 2;
		ss->*sp = ax;
		fn3431_0DDE();
		sp = (word16) sp + 2;
		ax |= ax;
		SZ = cond(ax);
		O = false;
		C = false;
		if (Test(EQ,Z))
		{
			al = (byte) (ss->*((word16) bp - 0x0A));
			ah -= ah;
			SCZO = cond(ax - 0x24);
			if (Test(EQ,Z))
			{
l3431_119C:
				SCZO = cond(Mem0[ds:0x21E0:word16] - 0x00);
				if (Test(NE,Z))
				{
					al = (byte) (ss->*((word16) bp - 0x0A));
					SCZO = cond(ss->*((word16) bp - 8) - al);
					if (Test(NE,Z))
						goto l3431_111D;
					bx = ss->*((word16) bp - 0x0E);
					v36 = (word32) (ss->*((word16) bp - 0x0E)) + 1;
					ss->*((word16) bp - 0x0E) = v36;
					SZO = cond(v36);
					es_si = Mem0[ds:8586:segptr32];
					Mem0[es:bx + si:byte] = 0x20;
					goto l3431_1184;
				}
				SCZO = cond(ss->*((word16) bp - 8) - 0x20);
				if (Test(NE,Z))
					goto l3431_111D;
				bx = ss->*((word16) bp - 0x0E);
				v38 = (word32) (ss->*((word16) bp - 0x0E)) + 1;
				ss->*((word16) bp - 0x0E) = v38;
				SZO = cond(v38);
				es_si = Mem0[ds:8586:segptr32];
				al = (byte) (ss->*((word16) bp - 0x0A));
				goto l3431_1037;
			}
			SCZO = cond(ax - 0x2A);
			if (Test(EQ,Z))
				goto l3431_119C;
			SCZO = cond(ax - 0x59);
			if (Test(NE,Z))
			{
				SCZO = cond(ax - 121);
				if (Test(EQ,Z))
					goto l3431_1154;
l3431_111D:
				SCZO = cond(Mem0[ds:0x21F6:word16] - 0x00);
				if (Test(EQ,Z))
				{
l3431_11EE:
					SCZO = cond(Mem0[ds:8698:word16] - 0x00);
					if (Test(EQ,Z))
					{
						SCZO = cond(ss->*((word16) bp - 0x0A) - 33);
						if (Test(EQ,Z))
							goto l3431_11FB;
						al = (byte) (ss->*((word16) bp - 8));
					}
					else
					{
l3431_11FB:
						al = (byte) (ss->*((word16) bp - 8));
						ah -= ah;
						SCZO = cond(ah);
						sp -= 2;
						ss->*sp = ax;
						fn38AD_001E();
						sp = (word16) sp + 2;
						SCZO = cond(sp);
					}
					bx = ss->*((word16) bp - 0x0E);
					v37 = (word32) (ss->*((word16) bp - 0x0E)) + 1;
					ss->*((word16) bp - 0x0E) = v37;
					SZO = cond(v37);
					es_si = Mem0[ds:8586:segptr32];
					goto l3431_1037;
				}
				SCZO = cond(ss->*((word16) bp - 4) - 0x00);
				if (Test(EQ,Z))
					goto l3431_11EE;
				SCZO = cond(Mem0[ds:0x21E0:word16] - 0x00);
				if (Test(NE,Z))
				{
l3431_11D8:
					SCZO = cond(Mem0[ds:0x21E0:word16] - 0x00);
					if (Test(EQ,Z))
						goto l3431_102A;
					SCZO = cond(ss->*((word16) bp - 8) - 44);
					if (Test(EQ,Z))
						goto l3431_0FF6;
					goto l3431_102A;
				}
				SCZO = cond(ss->*((word16) bp - 8) - 0x2E);
				if (Test(NE,Z))
					goto l3431_11D8;
				goto l3431_1143;
			}
l3431_1154:
			al = (byte) (ss->*((word16) bp - 8));
			ah -= ah;
			SCZO = cond(ah);
			sp -= 2;
			ss->*sp = ax;
			fn38AD_0040();
			sp = (word16) sp + 2;
			SZP = cond(al & 0x08);
			O = false;
			C = false;
			if (Test(NE,Z))
			{
				bx = ss->*((word16) bp - 0x0E);
				v43 = (word32) (ss->*((word16) bp - 0x0E)) + 1;
				ss->*((word16) bp - 0x0E) = v43;
				SZO = cond(v43);
				es_si = Mem0[ds:8586:segptr32];
				Mem0[es:bx + si:byte] = 0x59;
			}
			else
			{
				bx = ss->*((word16) bp - 0x0E);
				v45 = (word32) (ss->*((word16) bp - 0x0E)) + 1;
				ss->*((word16) bp - 0x0E) = v45;
				SZO = cond(v45);
				es_si = Mem0[ds:8586:segptr32];
				Mem0[es:bx + si:byte] = 0x4E;
			}
			goto l3431_1184;
		}
		SCZO = cond(ss->*((word16) bp - 4) - 0x00);
		if (Test(NE,Z))
		{
			SCZO = cond(ss->*((word16) bp - 0x0A) - 0x2E);
			if (Test(NE,Z))
				goto l3431_1008;
			SCZO = cond(Mem0[ds:0x21F4:word16] - 0x00);
			if (Test(NE,Z))
				goto l3431_1008;
			SCZO = cond(Mem0[ds:0x21E0:word16] - 0x00);
			if (Test(EQ,Z))
			{
				SCZO = cond(Mem0[ds:0x21F6:word16] - 0x00);
				if (Test(EQ,Z))
					goto l3431_0FF6;
l3431_1143:
				bx = ss->*((word16) bp - 0x0E);
				v33 = (word32) (ss->*((word16) bp - 0x0E)) + 1;
				ss->*((word16) bp - 0x0E) = v33;
				SZO = cond(v33);
				es_si = Mem0[ds:8586:segptr32];
				Mem0[es:bx + si:byte] = 44;
			}
			else
			{
l3431_0FF6:
				bx = ss->*((word16) bp - 0x0E);
				v32 = (word32) (ss->*((word16) bp - 0x0E)) + 1;
				ss->*((word16) bp - 0x0E) = v32;
				SZO = cond(v32);
				es_si = Mem0[ds:8586:segptr32];
				Mem0[es:bx + si:byte] = 0x2E;
			}
			goto l3431_1184;
		}
l3431_1008:
		SCZO = cond(Mem0[ds:0x21E0:word16] - 0x00);
		if (Test(NE,Z))
		{
			SCZO = cond(ss->*((word16) bp - 4) - 0x00);
			if (Test(NE,Z))
			{
				SCZO = cond(ss->*((word16) bp - 8) - 0x2D);
				if (Test(EQ,Z))
				{
					SCZO = cond(ss->*((word16) bp - 0x0A) - 44);
					if (Test(EQ,Z))
					{
l3431_102A:
						bx = ss->*((word16) bp - 0x0E);
						v39 = (word32) (ss->*((word16) bp - 0x0E)) + 1;
						ss->*((word16) bp - 0x0E) = v39;
						SZO = cond(v39);
						es_si = Mem0[ds:8586:segptr32];
						al = (byte) (ss->*((word16) bp - 8));
l3431_1037:
						Mem0[es:bx + si:byte] = al;
					}
				}
			}
			goto l3431_1184;
		}
		SCZO = cond(ss->*((word16) bp - 4) - 0x00);
		if (Test(NE,Z))
		{
			SCZO = cond(ss->*((word16) bp - 0x0A) - 44);
			if (Test(NE,Z))
				goto l3431_10B6;
			al = (byte) (ss->*((word16) bp - 6));
			ah -= ah;
			SCZO = cond(ah);
			sp -= 2;
			ss->*sp = ax;
			fn38AD_0040();
			sp = (word16) sp + 2;
			SZP = cond(al & 0x02);
			O = false;
			C = false;
			if (Test(NE,Z))
				goto l3431_10B6;
			SCZO = cond(ss->*((word16) bp - 6) - 0x2B);
			if (Test(NE,Z))
			{
				SCZO = cond(ss->*((word16) bp - 6) - 0x2D);
				if (Test(EQ,Z))
					goto l3431_1068;
				goto l3431_10A6;
			}
l3431_1068:
			SCZO = cond(Mem0[ds:0x21DE:word16] - 0x00);
			if (Test(NE,Z))
			{
				si = ss->*((word16) bp - 0x0C);
				es_bx = Mem0[ds:8666:segptr32];
				al = Mem0[es:bx - 1 + si:byte];
				ss->*((word16) bp - 24) = al;
				SCZO = cond(al - 0x24);
				if (Test(NE,Z))
				{
					SCZO = cond(al - 0x2A);
					if (Test(EQ,Z))
						goto l3431_1085;
					goto l3431_109A;
				}
l3431_1085:
				si = ss->*((word16) bp - 0x0C);
				al = Mem0[es:bx - 1 + si:byte];
				si = ss->*((word16) bp - 0x0E);
				es_bx = Mem0[ds:8586:segptr32];
				Mem0[es:bx - 1 + si:byte] = al;
			}
			else
			{
l3431_109A:
				si = ss->*((word16) bp - 0x0E);
				es_bx = Mem0[ds:8586:segptr32];
				Mem0[es:bx - 1 + si:byte] = 0x20;
			}
l3431_10A6:
			bx = ss->*((word16) bp - 0x0E);
			v41 = (word32) (ss->*((word16) bp - 0x0E)) + 1;
			ss->*((word16) bp - 0x0E) = v41;
			SZO = cond(v41);
			es_si = Mem0[ds:8586:segptr32];
			al = (byte) (ss->*((word16) bp - 6));
			goto l3431_10DA;
		}
l3431_10B6:
		SCZO = cond(ss->*((word16) bp - 4) - 0x00);
		if (Test(NE,Z))
		{
			SCZO = cond(ss->*((word16) bp - 0x0A) - 44);
			if (Test(NE,Z))
				goto l3431_10E0;
			SCZO = cond(Mem0[ds:0x21F6:word16] - 0x00);
			if (Test(NE,Z))
				al = 0x2E;
			else
				al = 44;
			bx = ss->*((word16) bp - 0x0E);
			v42 = (word32) (ss->*((word16) bp - 0x0E)) + 1;
			ss->*((word16) bp - 0x0E) = v42;
			SZO = cond(v42);
			es_si = Mem0[ds:8586:segptr32];
l3431_10DA:
			Mem0[es:bx + si:byte] = al;
		}
		else
		{
l3431_10E0:
			bx = ss->*((word16) bp - 0x0E);
			v46 = (word32) (ss->*((word16) bp - 0x0E)) + 1;
			ss->*((word16) bp - 0x0E) = v46;
			es_si = Mem0[ds:8586:segptr32];
			al = (byte) (ss->*((word16) bp - 0x0A));
			Mem0[es:bx + si:byte] = al;
			SCZO = cond(Mem0[ds:8700:word16] - 0x00);
			if (Test(EQ,Z))
			{
l3431_1184:
				v34 = (word32) (ss->*((word16) bp + 0x0A)) + 1;
				ss->*((word16) bp + 0x0A) = v34;
				SZO = cond(v34);
			}
		}
		v35 = (word32) (ss->*((word16) bp - 0x0C)) + 1;
		ss->*((word16) bp - 0x0C) = v35;
		SZO = cond(v35);
		si = ss->*((word16) bp - 0x0E);
		es_bx = Mem0[ds:8586:segptr32];
		al = Mem0[es:bx - 1 + si:byte];
		ss->*((word16) bp - 6) = al;
	}
	SCZO = cond(Mem0[ds:8686:word16] - 0x00);
	if (Test(EQ,Z))
	{
		SCZO = cond(Mem0[ds:8684:word16] - 0x00);
		if (Test(EQ,Z))
			goto l3431_1247;
		es_bx = Mem0[ds:8586:segptr32];
		es->*bx = 0x28;
	}
	else
	{
		(ss->*((word16) bp - 20)).u0 = 0x01;
		while (true)
		{
			ax = ss->*((word16) bp - 0x0E);
			SCZO = cond(ss->*((word16) bp - 20) - ax);
			if (Test(GE,SO))
				break;
			bx = ss->*((word16) bp - 20);
			es_si = Mem0[ds:8586:segptr32];
			SCZO = cond(Mem0[es:bx + si:byte] - 0x20);
			if (Test(NE,Z))
				break;
			v48 = (word32) (ss->*((word16) bp - 20)) + 1;
			ss->*((word16) bp - 20) = v48;
			SZO = cond(v48);
		}
		si = ss->*((word16) bp - 20);
		es_bx = Mem0[ds:8586:segptr32];
		Mem0[es:bx - 1 + si:byte] = 0x28;
	}
	bx = ss->*((word16) bp - 0x0E);
	v26 = (word32) (ss->*((word16) bp - 0x0E)) + 1;
	ss->*((word16) bp - 0x0E) = v26;
	SZO = cond(v26);
	si = Mem0[ds:8586:word16];
	Mem0[es:bx + si:byte] = 0x29;
l3431_1247:
	SCZO = cond(Mem0[ds:8680:word16] - 0x00);
	if (Test(NE,Z))
	{
		ax.u0 = 0x5F5A;
		sp -= 2;
		ss->*sp = ds;
		sp -= 2;
		ss->*sp = ax;
		ax = ss->*((word16) bp - 0x0E);
		ax += Mem0[ds:8586:word16];
		SCZO = cond(ax);
		dx = Mem0[ds:8588:word16];
		sp -= 2;
		ss->*sp = dx;
		sp -= 2;
		ss->*sp = ax;
		fn2017_01BA();
		sp = (word16) sp + 8;
		v27 = (word32) (ss->*((word16) bp - 0x0E)) + 3;
		ss->*((word16) bp - 0x0E) = v27;
		SCZO = cond(v27);
	}
	SCZO = cond(Mem0[ds:8682:word16] - 0x00);
	if (Test(NE,Z))
	{
		ax.u0 = 24414;
		sp -= 2;
		ss->*sp = ds;
		sp -= 2;
		ss->*sp = ax;
		ax = ss->*((word16) bp - 0x0E);
		ax += Mem0[ds:8586:word16];
		SCZO = cond(ax);
		dx = Mem0[ds:8588:word16];
		sp -= 2;
		ss->*sp = dx;
		sp -= 2;
		ss->*sp = ax;
		fn2017_01BA();
		sp = (word16) sp + 8;
		v30 = (word32) (ss->*((word16) bp - 0x0E)) + 3;
		ss->*((word16) bp - 0x0E) = v30;
		SCZO = cond(v30);
	}
	bx = ss->*((word16) bp - 0x0E);
	es_si = Mem0[ds:8586:segptr32];
	Mem0[es:bx + si:byte] = 0x00;
	ax = bx;
	Mem0[ds:8656:word16] = ax;
	SCZO = cond(ss->*((word16) bp - 4) - 0x00);
	if (Test(NE,Z))
	{
l3431_130B:
		SCZO = cond(Mem0[ds:0x21F2:word16] - 0x00);
		if (Test(NE,Z))
		{
			SCZO = cond(Mem0[ds:0x21E0:word16] - 0x00);
			if (Test(EQ,Z))
			{
				(ss->*((word16) bp - 0x0E)).u0 = 0x00;
				while (true)
				{
					ax = Mem0[ds:8656:word16];
					SCZO = cond(ss->*((word16) bp - 0x0E) - ax);
					if (Test(GE,SO))
						break;
					bx = ss->*((word16) bp - 0x0E);
					es_si = Mem0[ds:8586:segptr32];
					Mem0[es:bx + si:byte] = 0x20;
					v44 = (word32) (ss->*((word16) bp - 0x0E)) + 1;
					ss->*((word16) bp - 0x0E) = v44;
					SZO = cond(v44);
				}
			}
		}
		si = ss->*sp;
		sp = bp;
		bp = ss->*sp;
		sp = (word16) sp + 2;
		return;
	}
	SCZO = cond(Mem0[ds:0x21F6:word16] - 0x00);
	if (Test(EQ,Z))
		goto l3431_130B;
	SCZO = cond(Mem0[ds:0x21E0:word16] - 0x00);
	if (Test(NE,Z))
	{
		SCZO = cond(Mem0[ds:8700:word16] - 0x00);
		if (Test(NE,Z))
		{
			(ss->*((word16) bp + 0x0A)).u0 = 0x02;
l3431_12C9:
			bx = Mem0[ds:8586:word16];
			al = (byte) (es->*bx);
			ss->*((word16) bp - 16) = al;
			al = (byte) (es->*((word16) bx + 1));
			ss->*((word16) bp - 18) = al;
			ax.u0 = 0x02;
			sp -= 2;
			ss->*sp = ax;
			ax = ss->*((word16) bp + 0x0A);
			ax += bx;
			SCZO = cond(ax);
			dx = es;
			sp -= 2;
			ss->*sp = dx;
			sp -= 2;
			ss->*sp = ax;
			sp -= 2;
			ss->*sp = dx;
			sp -= 2;
			ss->*sp = bx;
			fn2017_0258();
			sp = (word16) sp + 0x0A;
			SCZO = cond(sp);
			bx = ss->*((word16) bp + 0x0A);
			es_si = Mem0[ds:8586:segptr32];
			al = (byte) (ss->*((word16) bp - 16));
			Mem0[es:bx + si:byte] = al;
			si = bx;
			bx = Mem0[ds:8586:word16];
			al = (byte) (ss->*((word16) bp - 18));
			es->*((word16) si + ((word16) bx + 1)) = al;
			goto l3431_130B;
		}
	}
	(ss->*((word16) bp + 0x0A)).u0 = 0x03;
	goto l3431_12C9;
}

// 3431:133C: define fn3431_133C
// Called from:
//      fn3431_1624
define fn3431_133C
{
	sp = fp;
	Top = 0;
	sp -= 2;
	ss->*sp = bp;
	bp = sp;
	sp -= 0x02;
	sp -= 2;
	ss->*sp = si;
	ax -= ax;
	Mem0[ds:8688:word16] = ax;
	Mem0[ds:8686:word16] = ax;
	Mem0[ds:8684:word16] = ax;
	Mem0[ds:8682:word16] = ax;
	Mem0[ds:8680:word16] = ax;
	Mem0[ds:8698:word16] = ax;
	Mem0[ds:8696:word16] = ax;
	Mem0[ds:0x21F6:word16] = ax;
	Mem0[ds:0x21F4:word16] = ax;
	Mem0[ds:0x21F2:word16] = ax;
	Mem0[ds:0x21E2:word16] = ax;
	Mem0[ds:0x21DE:word16] = ax;
	Mem0[ds:0x21E0:word16] = ax;
	Mem0[ds:8700:word16] = ax;
	Mem0[ds:8678:word16] = ax;
	Mem0[ds:0x21FE:word16] = ax;
	es_bx = ss->*((word16) bp + 6);
	SCZO = cond(es->*bx - 0x40);
	if (Test(EQ,Z))
	{
		while (true)
		{
			v14 = (word32) (ss->*((word16) bp + 6)) + 1;
			ss->*((word16) bp + 6) = v14;
			es_bx = ss->*((word16) bp + 6);
			al = es->*bx;
			ss->*((word16) bp - 2) = al;
			al |= al;
			SZ = cond(al);
			O = false;
			C.u0 = false;
			if (Test(EQ,Z))
				break;
			SCZO = cond(al - 0x20);
			if (Test(EQ,Z))
				break;
			ah -= ah;
			SCZO = cond(ah);
			sp -= 2;
			ss->*sp = ax;
			fn38AD_001E();
			sp = (word16) sp + 2;
			ah -= ah;
			SCZO = cond(ax - 0x43);
			if (Test(NE,Z))
			{
				if (Test(UGT,CZ))
				{
					SCZO = cond(ax - 0x4B);
					if (Test(NE,Z))
					{
						if (Test(ULE,CZ))
						{
							SCZO = cond(ax - 0x44);
							if (Test(NE,Z))
							{
								SCZO = cond(ax - 0x45);
								if (Test(EQ,Z))
									Mem0[ds:0x21F6:word16] = 0x01;
							}
							else
								Mem0[ds:0x21F4:word16] = 0x01;
						}
						else
						{
							SCZO = cond(ax - 0x52);
							if (Test(NE,Z))
							{
								SCZO = cond(ax - 0x53);
								if (Test(NE,Z))
								{
									SCZO = cond(ax - 88);
									if (Test(EQ,Z))
										Mem0[ds:8682:word16] = 0x01;
									else
									{
										SCZO = cond(ax - 0x5A);
										if (Test(EQ,Z))
											Mem0[ds:0x21F2:word16] = 0x01;
									}
								}
								else
								{
									while (true)
									{
										v27 = (word32) (ss->*((word16) bp + 6)) + 1;
										ss->*((word16) bp + 6) = v27;
										es_bx = ss->*((word16) bp + 6);
										SCZO = cond(es->*bx - 0x00);
										if (Test(EQ,Z))
											break;
										es_bx = ss->*((word16) bp + 6);
										al = es->*bx;
										ah -= ah;
										SCZO = cond(ah);
										si = ax;
										sp -= 2;
										ss->*sp = si;
										fn38AD_0040();
										sp = (word16) sp + 2;
										SZP = cond(al & 0x02);
										O = false;
										C.u0 = false;
										if (Test(EQ,Z))
											break;
										ax.u0 = 0x0A;
										dx_ax = Mem0[ds:0x21FE:word16] *u32 ax;
										Mem0[ds:0x21FE:word16] = ax;
										ax = si - 48;
										v30 = Mem0[ds:0x21FE:word16] + ax;
										Mem0[ds:0x21FE:word16] = v30;
										SCZO = cond(v30);
									}
									v28 = ss->*((word16) bp + 6) - 0x01;
									ss->*((word16) bp + 6) = v28;
									SZO = cond(v28);
								}
							}
							else
								Mem0[ds:8700:word16] = 0x01;
						}
					}
					else
						Mem0[ds:8678:word16] = 0x01;
				}
				else
				{
					SCZO = cond(ax - 33);
					if (Test(NE,Z))
					{
						SCZO = cond(ax - 0x28);
						if (Test(NE,Z))
						{
							SCZO = cond(ax - 0x29);
							if (Test(NE,Z))
							{
								SCZO = cond(ax - 0x41);
								if (Test(NE,Z))
								{
									SCZO = cond(ax - 66);
									if (Test(EQ,Z))
										Mem0[ds:8688:word16] = 0x01;
								}
								else
									Mem0[ds:8696:word16] = 0x01;
							}
							else
								Mem0[ds:8686:word16] = 0x01;
						}
						else
							Mem0[ds:8684:word16] = 0x01;
					}
					else
						Mem0[ds:8698:word16] = 0x01;
				}
			}
			else
				Mem0[ds:8680:word16] = 0x01;
		}
		es_bx = ss->*((word16) bp + 6);
		SCZO = cond(es->*bx - 0x20);
		if (Test(EQ,Z))
		{
			v22 = (word32) (ss->*((word16) bp + 6)) + 1;
			ss->*((word16) bp + 6) = v22;
			SZO = cond(v22);
		}
	}
	ax = Mem0[ds:0x21CA:word16];
	SCZO = cond(ax - 0x02);
	if (Test(NE,Z))
	{
		SCZO = cond(ax - 0x08);
		if (Test(NE,Z))
		{
			SCZO = cond(ax - 0x20);
			if (Test(EQ,Z))
			{
				ax -= ax;
				SCZO = cond(ax);
				Mem0[ds:8700:word16] = ax;
				Mem0[ds:8698:word16] = ax;
				goto l3431_1550;
			}
			SCZO = cond(ax - 0x80);
			if (Test(NE,Z))
			{
				SCZO = cond(ax - 0x0100);
				if (Test(NE,Z))
				{
					SCZO = cond(ax - 0x0300);
					if (Test(NE,Z))
					{
l3431_14F4:
						SZP = cond(Mem0[ds:0x21CA:byte] & 0x20);
						O = false;
						C.u0 = false;
						if (Test(EQ,Z))
						{
							SCZO = cond(Mem0[ds:0x21F4:word16] - 0x00);
							if (Test(EQ,Z))
							{
								SCZO = cond(Mem0[ds:0x21F6:word16] - 0x00);
								if (Test(EQ,Z))
									goto l3431_1569;
								SZP = cond(Mem0[ds:0x21CA:byte] & 0x0A);
								O = false;
								C.u0 = false;
								if (Test(NE,Z))
								{
l3431_1569:
									es_bx = ss->*((word16) bp + 6);
									SCZO = cond(es->*bx - 0x01);
									ax = ax - ax - C;
									SCZO = cond(ax);
									ax.u0 = (byte) ax.u0 + 1;
									SZO = cond(ax);
									Mem0[ds:0x21DE:word16] = ax;
									ax = bx;
									dx = es;
									Mem0[ds:8666:word16] = ax;
									Mem0[ds:8668:word16] = dx;
									si = ss->*sp;
									sp = bp;
									bp = ss->*sp;
									sp = (word16) sp + 2;
									return;
								}
							}
						}
						v21 = Mem0[ds:0x128E:word16];
						sp -= 2;
						ss->*sp = v21;
						ax -= ax;
						SCZO = cond(ax);
						sp -= 2;
						ss->*sp = ax;
						sp -= 2;
						ss->*sp = ax;
						ax.u0 = 0x2192;
						sp -= 2;
						ss->*sp = ds;
						sp -= 2;
						ss->*sp = ax;
						fn38D6_06FA();
						sp = (word16) sp + 0x0A;
						SCZO = cond(sp);
						ax.u0 = 0x2192;
						ss->*((word16) bp + 6) = ax;
						ss->*((word16) bp + 8) = ds;
						while (true)
						{
							es_bx = ss->*((word16) bp + 6);
							al = es->*bx;
							ss->*((word16) bp - 2) = al;
							al |= al;
							SZ = cond(al);
							O = false;
							C.u0 = false;
							if (Test(EQ,Z))
								break;
							SCZO = cond(al - 0x20);
							if (Test(EQ,Z))
								(es->*bx).u0 = 0x39;
							v25 = (word32) (ss->*((word16) bp + 6)) + 1;
							ss->*((word16) bp + 6) = v25;
							SZO = cond(v25);
						}
						ax.u0 = 0x2192;
						ss->*((word16) bp + 6) = ax;
						ss->*((word16) bp + 8) = ds;
						goto l3431_1569;
					}
				}
l3431_1550:
				ax -= ax;
				SCZO = cond(ax);
				Mem0[ds:8688:word16] = ax;
				Mem0[ds:8684:word16] = ax;
				Mem0[ds:8682:word16] = ax;
				Mem0[ds:8680:word16] = ax;
				goto l3431_14F4;
			}
l3431_14E2:
			Mem0[ds:8700:word16] = 0x01;
			Mem0[ds:8696:word16] = 0x00;
			Mem0[ds:8698:word16] = 0x00;
			goto l3431_14F4;
		}
	}
	Mem0[ds:8678:word16] = 0x01;
	goto l3431_14E2;
}

// 3431:1624: define fn3431_1624
// Called from:
//      fn3431_3E9E
define fn3431_1624
{
	sp = fp;
	Top = 0;
	sp -= 2;
	ss->*sp = bp;
	bp = sp;
	sp -= 0x0A;
	sp -= 2;
	ss->*sp = di;
	sp -= 2;
	ss->*sp = si;
	es_bx = ss->*((word16) bp + 6);
	SZP = cond(es->*bx & 0x0A);
	O = false;
	C.u0 = false;
	if (Test(NE,Z))
	{
		SCZO = cond(Mem0[ds:5100:word16] - 0x00);
		if (Test(NE,Z))
		{
l3431_1644:
			sp -= 2;
			ss->*sp = es;
			sp -= 2;
			ss->*sp = bx;
			fn38D6_0008();
			sp = (word16) sp + 4;
			SCZO = cond(sp);
			goto l3431_164E;
		}
		SCZO = cond(es->*((word16) bx + 2) - 0xFF);
		if (Test(EQ,Z))
			goto l3431_1644;
	}
l3431_164E:
	es_bx = ss->*((word16) bp + 6);
	ax = es->*bx;
	Mem0[ds:0x21CA:word16] = ax;
	ax = es->*((word16) bx + 2);
	Mem0[ds:0x21CC:word16] = ax;
	ax = es->*((word16) bx + 4);
	Mem0[ds:0x21CE:word16] = ax;
	v18 = ss->*((word16) bp + 0x0E);
	sp -= 2;
	ss->*sp = v18;
	v19 = ss->*((word16) bp + 0x0C);
	sp -= 2;
	ss->*sp = v19;
	fn3431_133C();
	sp = (word16) sp + 4;
	SCZO = cond(ss->*((word16) bp + 0x0A) - 0x00);
	if (Test(NE,Z))
	{
		ax -= ax;
		SCZO = cond(ax);
		Mem0[ds:8686:word16] = ax;
		Mem0[ds:8684:word16] = ax;
		Mem0[ds:8682:word16] = ax;
		Mem0[ds:8680:word16] = ax;
	}
	es_bx = ss->*((word16) bp + 6);
	ax = es->*bx;
	SCZO = cond(ax - 0x02);
	if (Test(NE,Z))
	{
		SCZO = cond(ax - 0x08);
		if (Test(NE,Z))
		{
			SCZO = cond(ax - 0x20);
			if (Test(NE,Z))
			{
				SCZO = cond(ax - 0x80);
				if (Test(NE,Z))
				{
					SCZO = cond(ax - 0x0100);
					if (Test(NE,Z))
					{
						SCZO = cond(ax - 0x0300);
						if (Test(NE,Z))
						{
l3431_16C2:
							SCZO = cond(Mem0[ds:0x21FE:word16] - 0x00);
							if (Test(EQ,Z))
								ax = Mem0[ds:8656:word16];
							else
							{
								ax = Mem0[ds:8656:word16];
								ax -= Mem0[ds:0x21FE:word16];
								SCZO = cond(ax);
								cx = cx - cx - C;
								ax &= cx;
								ax += Mem0[ds:0x21FE:word16];
								SCZO = cond(ax);
							}
							Mem0[ds:0x21D2:word16] = ax;
							si = ss->*sp;
							sp = (word16) sp + 2;
							di = ss->*sp;
							sp = bp;
							bp = ss->*sp;
							sp = (word16) sp + 2;
							return;
						}
					}
					ax -= ax;
					SCZO = cond(ax);
					sp -= 2;
					ss->*sp = ax;
					v69 = es->*((word16) bx + 0x0A);
					sp -= 2;
					ss->*sp = v69;
					v70 = es->*((word16) bx + 8);
					sp -= 2;
					ss->*sp = v70;
				}
				else
				{
					es_bx = ss->*((word16) bp + 6);
					SCZO = cond(es->*((word16) bx + 8) - 0x00);
					if (Test(NE,Z))
						al.u0 = 0x54;
					else
						al.u0 = 0x46;
					es_bx = Mem0[ds:0x218E:segptr32];
					es->*bx = al;
					(es->*((word16) bx + 1)).u0 = 0x00;
					ax -= ax;
					SCZO = cond(ax);
					sp -= 2;
					ss->*sp = ax;
					sp -= 2;
					ss->*sp = es;
					sp -= 2;
					ss->*sp = bx;
				}
l3431_16BB:
				fn3431_0E74();
				sp = (word16) sp + 6;
				SCZO = cond(sp);
				goto l3431_16C2;
			}
			v29 = Mem0[ds:0x128E:word16];
			sp -= 2;
			ss->*sp = v29;
			es_bx = ss->*((word16) bp + 6);
			v30 = es->*((word16) bx + 0x0A);
			sp -= 2;
			ss->*sp = v30;
			v31 = es->*((word16) bx + 8);
			sp -= 2;
			ss->*sp = v31;
			v32 = Mem0[ds:0x2190:word16];
			sp -= 2;
			ss->*sp = v32;
			v33 = Mem0[ds:0x218E:word16];
			sp -= 2;
			ss->*sp = v33;
			fn38D6_06FA();
			sp = (word16) sp + 0x0A;
			ax -= ax;
			SCZO = cond(ax);
			sp -= 2;
			ss->*sp = ax;
l3431_1959:
			v47 = Mem0[ds:0x2190:word16];
			sp -= 2;
			ss->*sp = v47;
			v48 = Mem0[ds:0x218E:word16];
			sp -= 2;
			ss->*sp = v48;
			goto l3431_16BB;
		}
	}
	else
	{
		es_bx = ss->*((word16) bp + 6);
		v71 = es->*((word16) bx + 0x0A);
		sp -= 2;
		ss->*sp = v71;
		v72 = es->*((word16) bx + 8);
		sp -= 2;
		ss->*sp = v72;
		fn3CEE_0CF7();
		sp = (word16) sp + 4;
		SCZO = cond(sp);
		es_bx = ss->*((word16) bp + 6);
		di = (word16) bx + 8;
		si = ax;
		sp -= 2;
		ss->*sp = ds;
		ds = dx;
		v73 = ds->*si;
		es->*di = v73;
		si = (word16) si + 2;
		di = (word16) di + 2;
		v74 = ds->*si;
		es->*di = v74;
		si = (word16) si + 2;
		di = (word16) di + 2;
		v75 = ds->*si;
		es->*di = v75;
		si = (word16) si + 2;
		di = (word16) di + 2;
		v76 = ds->*si;
		es->*di = v76;
		si = (word16) si + 2;
		di = (word16) di + 2;
		ds = ss->*sp;
		sp = (word16) sp + 2;
		(es->*((word16) bx + 4)).u0 = 0x00;
	}
	SCZO = cond(Mem0[ds:8680:word16] - 0x00);
	if (Test(NE,Z))
	{
		v20 = es->*((word16) bx + 0x0E);
		sp -= 2;
		ss->*sp = v20;
		v21 = es->*((word16) bx + 0x0C);
		sp -= 2;
		ss->*sp = v21;
		v22 = es->*((word16) bx + 0x0A);
		sp -= 2;
		ss->*sp = v22;
		v23 = es->*((word16) bx + 8);
		sp -= 2;
		ss->*sp = v23;
		fn400D_00DE();
		sp = (word16) sp + 8;
		ax |= ax;
		SZ = cond(ax);
		O = false;
		C.u0 = false;
		if (Test(NE,Z))
		{
			ax.u0 = 0x01;
l3431_1756:
			Mem0[ds:8680:word16] = ax;
			SCZO = cond(Mem0[ds:0x21F2:word16] - 0x00);
			if (Test(NE,Z))
			{
				es_bx = ss->*((word16) bp + 6);
				v25 = es->*((word16) bx + 0x0E);
				sp -= 2;
				ss->*sp = v25;
				v26 = es->*((word16) bx + 0x0C);
				sp -= 2;
				ss->*sp = v26;
				v27 = es->*((word16) bx + 0x0A);
				sp -= 2;
				ss->*sp = v27;
				v28 = es->*((word16) bx + 8);
				sp -= 2;
				ss->*sp = v28;
				fn400D_0102();
				sp = (word16) sp + 8;
				ax |= ax;
				SZ = cond(ax);
				O = false;
				C.u0 = false;
				if (Test(NE,Z))
				{
					ax.u0 = 0x01;
l3431_1786:
					Mem0[ds:0x21F2:word16] = ax;
					SCZO = cond(Mem0[ds:8682:word16] - 0x00);
					if (Test(EQ,Z))
					{
						SCZO = cond(Mem0[ds:8684:word16] - 0x00);
						if (Test(EQ,Z))
						{
							SCZO = cond(Mem0[ds:8686:word16] - 0x00);
							if (Test(EQ,Z))
								goto l3431_17F9;
						}
					}
					es_bx = ss->*((word16) bp + 6);
					v34 = es->*((word16) bx + 0x0E);
					sp -= 2;
					ss->*sp = v34;
					v35 = es->*((word16) bx + 0x0C);
					sp -= 2;
					ss->*sp = v35;
					v36 = es->*((word16) bx + 0x0A);
					sp -= 2;
					ss->*sp = v36;
					v37 = es->*((word16) bx + 8);
					sp -= 2;
					ss->*sp = v37;
					fn400D_00DE();
					sp = (word16) sp + 8;
					ss->*((word16) bp - 0x0A) = ax;
					ax |= ax;
					SZ = cond(ax);
					O = false;
					C.u0 = false;
					if (Test(NE,Z))
					{
						es_bx = ss->*((word16) bp + 6);
						v38 = es->*((word16) bx + 0x0E);
						sp -= 2;
						ss->*sp = v38;
						v39 = es->*((word16) bx + 0x0C);
						sp -= 2;
						ss->*sp = v39;
						v40 = es->*((word16) bx + 0x0A);
						sp -= 2;
						ss->*sp = v40;
						v41 = es->*((word16) bx + 8);
						sp -= 2;
						ss->*sp = v41;
						fn400D_017E();
						sp = (word16) sp + 8;
						SCZO = cond(sp);
						es_bx = ss->*((word16) bp + 6);
						di = (word16) bx + 8;
						si = ax;
						sp -= 2;
						ss->*sp = ds;
						ds = dx;
						v43 = ds->*si;
						es->*di = v43;
						si = (word16) si + 2;
						di = (word16) di + 2;
						v44 = ds->*si;
						es->*di = v44;
						si = (word16) si + 2;
						di = (word16) di + 2;
						v45 = ds->*si;
						es->*di = v45;
						si = (word16) si + 2;
						di = (word16) di + 2;
						v46 = ds->*si;
						es->*di = v46;
						si = (word16) si + 2;
						di = (word16) di + 2;
						ds = ss->*sp;
						sp = (word16) sp + 2;
					}
					else
					{
						ax -= ax;
						SCZO = cond(ax);
						Mem0[ds:8686:word16] = ax;
						Mem0[ds:8684:word16] = ax;
						Mem0[ds:8682:word16] = ax;
					}
l3431_17F9:
					SCZO = cond(Mem0[ds:0x21DE:word16] - 0x00);
					if (Test(NE,Z))
					{
						ax -= ax;
						SCZO = cond(ax);
						ss->*((word16) bp - 8) = ax;
						ss->*((word16) bp - 6) = ax;
						while (true)
						{
							bx = ss->*((word16) bp - 6);
							es_si = Mem0[ds:8666:segptr32];
							al = Mem0[es:bx + si:byte];
							ss->*((word16) bp - 0x0A) = al;
							al |= al;
							SZ = cond(al);
							O = false;
							C.u0 = false;
							if (Test(EQ,Z))
								break;
							SCZO = cond(ss->*((word16) bp - 0x0A) - 0x2E);
							if (Test(EQ,Z))
								break;
							al = ss->*((word16) bp - 0x0A);
							ah -= ah;
							SCZO = cond(ah);
							sp -= 2;
							ss->*sp = ax;
							fn3431_0DDE();
							sp = (word16) sp + 2;
							ax |= ax;
							SZ = cond(ax);
							O = false;
							C.u0 = false;
							if (Test(EQ,Z))
							{
								v64 = (word32) (ss->*((word16) bp - 8)) + 1;
								ss->*((word16) bp - 8) = v64;
								SZO = cond(v64);
							}
							v68 = (word32) (ss->*((word16) bp - 6)) + 1;
							ss->*((word16) bp - 6) = v68;
							SZO = cond(v68);
						}
						ax = ss->*((word16) bp - 6);
						Mem0[ds:8662:word16] = ax;
						(ss->*((word16) bp - 2)).u0 = 0x00;
						bx = ax;
						v52 = (word32) (ss->*((word16) bp - 6)) + 1;
						ss->*((word16) bp - 6) = v52;
						es_si = Mem0[ds:8666:segptr32];
						SCZO = cond(Mem0[es:bx + si:byte] - 0x00);
						if (Test(NE,Z))
						{
							while (true)
							{
								bx = ss->*((word16) bp - 6);
								es_si = Mem0[ds:8666:segptr32];
								al = Mem0[es:bx + si:byte];
								ss->*((word16) bp - 0x0A) = al;
								al |= al;
								SZ = cond(al);
								O = false;
								C.u0 = false;
								if (Test(EQ,Z))
									break;
								al = ss->*((word16) bp - 0x0A);
								ah -= ah;
								SCZO = cond(ah);
								sp -= 2;
								ss->*sp = ax;
								fn3431_0DDE();
								sp = (word16) sp + 2;
								ax |= ax;
								SZ = cond(ax);
								O = false;
								C.u0 = false;
								if (Test(EQ,Z))
								{
									v65 = (word32) (ss->*((word16) bp - 2)) + 1;
									ss->*((word16) bp - 2) = v65;
									SZO = cond(v65);
								}
								v67 = (word32) (ss->*((word16) bp - 6)) + 1;
								ss->*((word16) bp - 6) = v67;
								SZO = cond(v67);
							}
						}
						es_bx = ss->*((word16) bp + 6);
						SCZO = cond(es->*((word16) bx + 4) - 0x00);
						if (Test(NE,Z))
						{
							ax = es->*((word16) bx + 4);
							ax.u0 = (byte) ax.u0 + 1;
							SZO = cond(ax);
						}
						else
						{
							ax -= ax;
							SCZO = cond(ax);
						}
						cx = es->*((word16) bx + 2);
						cx -= ax;
						ss->*((word16) bp - 4) = cx;
						ax = cx;
						ax -= ss->*((word16) bp - 8);
						Mem0[ds:8660:word16] = ax;
						SCZO = cond(ss->*((word16) bp - 2) - 0x00);
						if (Test(NE,Z))
						{
							ax = ss->*((word16) bp - 2);
							ax.u0 = (byte) ax.u0 + 1;
							SZO = cond(ax);
						}
						else
						{
							ax -= ax;
							SCZO = cond(ax);
						}
						v66 = Mem0[ss:bp + -4:word16] + ax;
						ss->*((word16) bp - 4) = v66;
						SCZO = cond(v66);
						ax = ss->*((word16) bp - 4);
						Mem0[ds:0x21CC:word16] = ax;
						ax = ss->*((word16) bp - 2);
						Mem0[ds:0x21CE:word16] = ax;
l3431_192C:
						v54 = Mem0[ds:0x2190:word16];
						sp -= 2;
						ss->*sp = v54;
						v55 = Mem0[ds:0x218E:word16];
						sp -= 2;
						ss->*sp = v55;
						v56 = ss->*((word16) bp - 2);
						sp -= 2;
						ss->*sp = v56;
						v57 = ss->*((word16) bp - 4);
						sp -= 2;
						ss->*sp = v57;
						es_bx = ss->*((word16) bp + 6);
						v58 = es->*((word16) bx + 0x0E);
						sp -= 2;
						ss->*sp = v58;
						v59 = es->*((word16) bx + 0x0C);
						sp -= 2;
						ss->*sp = v59;
						v60 = es->*((word16) bx + 0x0A);
						sp -= 2;
						ss->*sp = v60;
						v61 = es->*((word16) bx + 8);
						sp -= 2;
						ss->*sp = v61;
						fn3CEE_0DA8();
						sp = (word16) sp + 16;
						SCZO = cond(sp);
						v62 = Mem0[ds:8660:word16];
						sp -= 2;
						ss->*sp = v62;
						goto l3431_1959;
					}
					SCZO = cond(Mem0[ds:5100:word16] - 0x00);
					if (Test(NE,Z))
					{
						SCZO = cond(ss->*((word16) bp + 0x0A) - 0x00);
						if (Test(EQ,Z))
						{
							es_bx = ss->*((word16) bp + 6);
							SCZO = cond(es->*((word16) bx + 4) - 0x00);
							if (Test(NE,Z))
								ax = es->*((word16) bx + 4);
							else
								ax.u0 = ~0x00;
							cx = es->*((word16) bx + 2);
							cx -= ax;
							cx += Mem0[ds:5112:word16];
							ss->*((word16) bp - 4) = cx;
							ax = es->*((word16) bx + 2);
							ax -= cx;
							SCZO = cond(ax);
							cx = cx - cx - C;
							cx = ~cx;
							ax &= cx;
							ax += Mem0[ss:bp + -4:word16];
							SCZO = cond(ax);
							ss->*((word16) bp - 4) = ax;
							ax = Mem0[ds:5112:word16];
l3431_191A:
							ss->*((word16) bp - 2) = ax;
							ax = ss->*((word16) bp - 4);
							ax -= ss->*((word16) bp - 2);
							SCZO = cond(ax);
							Mem0[ds:8662:word16] = ax;
							Mem0[ds:8660:word16] = 0x00;
							goto l3431_192C;
						}
					}
					es_bx = ss->*((word16) bp + 6);
					ax = es->*((word16) bx + 2);
					ss->*((word16) bp - 4) = ax;
					ax = es->*((word16) bx + 4);
					goto l3431_191A;
				}
			}
			ax -= ax;
			SCZO = cond(ax);
			goto l3431_1786;
		}
	}
	ax -= ax;
	SCZO = cond(ax);
	goto l3431_1756;
}

// 3431:3E9E: define fn3431_3E9E
// Called from:
//      fn3CEE_4490
//      fn3CEE_5556
define fn3431_3E9E
{
	sp = fp;
	Top = 0;
	sp -= 2;
	(ss->*sp).ptr0000 = (struct Eq_113589 Eq_113596::*) bp;
	bp = sp;
	v6 = (struct Eq_113589 Eq_113596::*) (ss->*bp).ptr0008;
	sp -= 2;
	(ss->*sp).ptr0000 = (struct Eq_113589 Eq_113596::*) v6;
	v7 = (struct Eq_113589 Eq_113596::*) (ss->*bp).ptr0006;
	sp -= 2;
	(ss->*sp).ptr0000 = (struct Eq_113589 Eq_113596::*) v7;
	ax -= ax;
	SCZO = cond(ax);
	sp -= 2;
	(ss->*sp).ptr0000 = (struct Eq_113589 Eq_113596::*) ax;
	v11 = ds->ptr1298;
	sp -= 2;
	(ss->*sp).ptr0000 = (struct Eq_113589 Eq_113596::*) v11;
	v12 = ds->ptr1296;
	sp -= 2;
	(ss->*sp).ptr0000 = (struct Eq_113589 Eq_113596::*) v12;
	fn3431_1624();
	sp = (struct Eq_113589 Eq_113596::*) &sp->ptr0008;
	SCZO = cond(sp);
	fn2368_033C();
	v13 = ds->ptr21D0;
	sp -= 2;
	(ss->*sp).ptr0000 = (struct Eq_113589 Eq_113596::*) v13;
	ax -= ax;
	SCZO = cond(ax);
	sp -= 2;
	(ss->*sp).ptr0000 = (struct Eq_113589 Eq_113596::*) ax;
	v14 = ds->ptr218C;
	sp -= 2;
	(ss->*sp).ptr0000 = (struct Eq_113589 Eq_113596::*) v14;
	v15 = ds->ptr218A;
	sp -= 2;
	(ss->*sp).ptr0000 = (struct Eq_113589 Eq_113596::*) v15;
	fn2368_0272();
	sp = (struct Eq_113589 Eq_113596::*) &sp->ptr0008;
	SCZO = cond(sp);
	bp = (struct Eq_113589 Eq_113596::*) (ss->*sp).ptr0000;
	sp = (struct Eq_113589 Eq_113596::*) &sp->ptr0000;
}

